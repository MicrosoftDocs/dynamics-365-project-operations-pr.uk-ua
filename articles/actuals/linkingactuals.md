---
title: Зв’язування фактичних даних із вихідними записами
description: У цій темі роз’яснюється, як пов’язати фактичні дані з вихідними записами, такими як запис часу, запис витрат або журнали використання матеріалів.
author: rumant
ms.date: 03/25/2021
ms.topic: article
ms.prod: ''
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: b5a70d2c2b3f98028b4e4998ed25ab73a275c66e4b8137eb573b943658a1a41e
ms.sourcegitcommit: 7f8d1e7a16af769adb43d1877c28fdce53975db8
ms.translationtype: HT
ms.contentlocale: uk-UA
ms.lasthandoff: 08/06/2021
ms.locfileid: "6991781"
---
# <a name="link-actuals-to-original-records"></a>Зв’язування фактичних даних із вихідними записами

_**Застосовується до:** Project Operations для сценаріїв на основі ресурсів і відсутності запасів, полегшене розгортання: угоди та виставлення рахунків-проформ_


У Dynamics 365 Project Operations, *бізнес-транзакція* – це абстрактна концепція, яка не відображається в сутності. Проте деякі поширені поля та процеси в сутностях призначені для використання концепції бізнес-транзакцій. У зазначених нижче сутностях використовується ця концепція.

- Відомості позиції цінової пропозиції
- Відомості про сервісну роботу за договором
- Позиції прогнозів
- Рядки в журналі
- Фактично

Із цих сутностей **Відомості позиції цінової пропозиції**, **Відомості про сервісну роботу за договором** і **Позиції прогнозів** зіставляються з етапом оцінки впродовж життєвого циклу проекту. Поля **Рядки в журналі** та **Сутності фактичних даних** зіставляються з етапом виконання життєвого циклу проекту.

Програма Project Operations визнає записи в цих п’яти сутностях бізнес-транзакціями. Єдина відмінність полягає в тому, що записи в сутностях, що зіставляються з етапом оцінки, розглядаються як фінансові прогнози, а записи в сутностях, що зіставляються з фазою виконання, вважаються фінансовими фактами, які вже відбулися.

## <a name="concepts-that-are-unique-to-business-transactions"></a>Унікальні для бізнес-транзакцій концепції
До унікальних концепцій бізнес-транзакцій належать такі концепції:

- Тип транзакції
- Клас транзакції
- Джерело транзакцій
- Зв’язок транзакцій

### <a name="transaction-type"></a>Тип транзакції

Тип транзакції представляє терміни та контекст фінансового впливу на проект. Це представлено набором параметрів, що має наведені далі підтримувані значення в Project Operations.

  - Вартість
  - Проектний сервісний договір
  - Збут, на який не виставлено рахунок
  - Збут, на який виставлено рахунок
  - Збут між організаціями
  - Вартість одиниці ресурсів

### <a name="transaction-class"></a>Клас транзакції

Клас транзакції відповідає різним видам витрат, що виникли у проектах. Це представлено набором параметрів, що має наведені далі підтримувані значення в Project Operations.

  - Час
  - Витрати
  - Матеріали
  - Оплата
  - Проміжний етап
  - Податок

**Проміжний етап**, як правило, використовується в бізнес-логіці для виставлення рахунків за фіксованою ціною в Project Operations.

### <a name="transaction-origin"></a>Джерело транзакцій

**Джерело транзакції** – це сутність, у якій зберігається джерело кожної бізнес-транзакції. У ході реалізації проекту кожна бізнес-транзакція є джерелом іншої бізнес-транзакції, яка, в свою чергу, створить ще одну бізнес-транзакцію й так далі. Сутність «Джерело транзакції» призначена для того, щоб зберігати дані про джерело кожної транзакції, що допоможе в процесі звітування й відстеження. 

### <a name="transaction-connection"></a>Зв’язок транзакцій

**Зв’язок транзакції** – це сутність, у якій зберігається зв’язок між двома подібними бізнес-транзакціями, наприклад, вартість і пов’язані фактичні дані збуту або сторнування транзакцій, викликані справами з виставлення рахунків, такими як підтвердження рахунків або коригування рахунків.

Разом поля **Джерело транзакції** та **Зв’язок транзакції** допомагають відстежувати зв’язки між бізнес-транзакціями й справами, які призвели до виникнення тієї або іншої бізнес-транзакції.

### <a name="example-how-transaction-origin-works-with-transaction-connection"></a>Приклад: як працює сутність походження транзакції з підключенням транзакції

У наведеному нижче прикладі показано типову обробку записів часу в життєвому циклі проекту Project Operations.

> ![Обробка записів часу в життєвому циклі програми Project Service.](media/basic-guide-17.png)
 
1. Надсилання запису часу призводить до створення двох рядків у журналі: один рядок призначено для витрат, а один для збуту, за яким не виставлялися рахунки.
2. Можливе затвердження запису часу створює два блоки фактичних даних: один блок фактичних даних має відношення до вартості, інший – до збуту, за яким не виставлялися рахунки.
3. При створенні нового проектного рахунка створюється транзакція позиції рахунка способом використання фактичних даних збуту, за яким не виставлявся рахунок. 
4. При затвердженні рахунка створюються два нові блоки фактичних даних: фактичні дані сторнування збуту, за яким не виставлявся рахунок, і фактичні дані збуту, за яким виставлявся рахунок.

Кожна з цих подій створює запис у сутностях **Джерело транзакції** та **Зв’язок транзакції**. Ці нові записи допомагають побудувати історію відносин між записами, які створюються в проводці часу, в рядку в журналі, в фактичних даних і у відомостях про позицію в рахунку.

У наведеній далі таблиці показано записи в сутності **Джерело транзакції** для робочого циклу.

| Захід                        | Джерело                   | Тип походження                       | Транзакція                       | Тип транзакції         |
|------------------------------|--------------------------|-----------------------------------|-----------------------------------|--------------------------|
| Надсилання запису часу        | Запис часу GUID   | Запис часу                        | Запис рядка у журналі GUID (вартість)   | Рядок у журналі             |
| Запис часу GUID       | Запис часу               | Запис рядка у журналі GUID (збут)  | Рядок у журналі                      |                          |
| Затвердження часу                | GUID запису рядка у журналі | Рядок у журналі                      | GUID запису збуту, на який не виставлено рахунок        | Фактично                    |
| Запис часу GUID       | Запис часу               | GUID запису збуту, на який не виставлено рахунок        | Фактично                             |                          |
| GUID запису рядка у журналі     | Рядок у журналі             | GUID запису фактичних витрат           | Фактично                             |                          |
| Запис часу GUID       | Запис часу               | GUID запису фактичних витрат           | Фактичний                            |                          |
| Створення рахунка             | Запис часу GUID   | Запис часу                        | GUID транзакції позиції рахунка     | Транзакція позиції рахунка |
| GUID запису рядка у журналі     | Рядок у журналі             | GUID транзакції позиції рахунка     | Транзакція позиції рахунка          |                          |
| Підтвердження рахунка         | GUID позиції в рахунку        | Позиція в рахунку                      | GUID запису збуту, на який виставлено рахунок          | Фактично                    |
| GUID рахунку                 | Рахунок-фактура                  | GUID запису збуту, на який виставлено рахунок          | Фактично                             |                          |
| GUID відомостей про позицію в рахунку     | Відомості про позиції рахунка      | GUID запису збуту, на який виставлено рахунок          | Фактично                             |                          |
| Запис часу GUID       | Запис часу               | GUID запису збуту, на який виставлено рахунок          | Фактично                             |                          |
| GUID запису рядка у журналі     | Рядок у журналі             | GUID запису збуту, на який виставлено рахунок          | Фактично                             |                          |
| Запис часу GUID       | Запис часу               | GUID скасування збуту, на який не виставлено рахунок      | Фактично                             |                          |
| GUID запису рядка у журналі     | Рядок у журналі             | GUID скасування збуту, на який не виставлено рахунок      | Фактично                             |                          |
| Корекція чернетки рахунка     | Старий GUID ILD             | Транзакція позиції рахунка          | ILD GUID виправлення               | Транзакція позиції рахунка |
| Старий IL GUID                  | Позиція в рахунку             | ILD GUID виправлення               | Транзакція позиції рахунка          |                          |
| GUID старого рахунку             | Рахунок-фактура                  | ILD GUID виправлення               | Транзакція позиції рахунка          |                          |
| Запис часу GUID       | Запис часу               | ILD GUID виправлення               | Транзакція позиції рахунка          |                          |
| GUID запису рядка у журналі     | Рядок у журналі             | ILD GUID виправлення               | Транзакція позиції рахунка          |                          |
| Корекція підтвердженого рахунка | Старий GUID ILD             | Транзакція позиції рахунка          | GUID скасованого фактичних даних збуту, на який виставлено рахунок | Фактично                    |
| Старий IL GUID                  | Позиція в рахунку             | GUID скасованого фактичних даних збуту, на який виставлено рахунок | Фактично                             |                          |
| GUID старого рахунку             | Рахунок-фактура                  | GUID скасованого фактичних даних збуту, на який виставлено рахунок | Фактично                             |                          |
| Запис часу GUID       | Запис часу               | GUID скасованого фактичних даних збуту, на який виставлено рахунок | Фактично                             |                          |
| GUID запису рядка у журналі     | Рядок у журналі             | GUID скасованого фактичних даних збуту, на який виставлено рахунок | Фактично                             |                          |
| Старий GUID ILD                 | Транзакція позиції рахунка | Новий GUID для фактичного збуту з невиставленим рахунком    | Фактично                             |                          |
| Старий IL GUID                  | Позиція в рахунку             | Новий GUID для фактичного збуту з невиставленим рахунком    | Фактично                             |                          |
| GUID старого рахунку             | Рахунок-фактура                  | Новий GUID для фактичного збуту з невиставленим рахунком    | Фактично                             |                          |
| Запис часу GUID       | Запис часу               | Новий GUID для фактичного збуту з невиставленим рахунком    | Фактично                             |                          |
| GUID запису рядка у журналі     | Рядок у журналі             | Новий GUID для фактичного збуту з невиставленим рахунком    | Фактично                             |                          |
| ILD GUID виправлення          | Транзакція позиції рахунка | Новий GUID для фактичного збуту з невиставленим рахунком    | Фактично                             |                          |
| IL GUID виправлення           | Позиція в рахунку             | Новий GUID для фактичного збуту з невиставленим рахунком    | Фактично                             |                          |
| GUID коригованого рахунку      | Рахунок-фактура                  | Новий GUID для фактичного збуту з невиставленим рахунком    | Фактично                             |                          |

У наведеній далі таблиці показано записи в сутності **Зв’язок транзакції** для робочого циклу.

| Захід                          | Транзакція 1                 | Роль транзакції 1 | Тип транзакції 1           | Транзакція 2                | Роль транзакції 2 | Тип транзакції 2 |
|--------------------------------|-------------------------------|--------------------|------------------------------|------------------------------|--------------------|--------------------|
| Надсилання запису часу          | GUID рядка в журналі (збут)     | Збут, на який не виставлено рахунок     | msdyn_journalline            | GUID рядка в журналі (вартість)     | Вартість               | msdyn_journalline  |
| Затвердження часу                  | GUID фактичного збуту, на який не виставлено рахунок (збут)  | Збут, на який не виставлено рахунок     | msdyn_actual                 | GUID фактичної вартості (вартість)       | Вартість               | msdyn_actual       |
| Створення рахунка               | GUID відомостей про позицію в рахунку      | Збут, на який виставлено рахунок       | msdyn_invoicelinetransaction | GUID фактичного збуту, на який не виставлено рахунок   | Збут, на який не виставлено рахунок     | msdyn_actual       |
| Підтвердження рахунка           | GUID скасованих фактичних даних         | Повернення          | msdyn_actual                 | GUID первинного збуту, на який не виставлено рахунок | Вихідний           | msdyn_actual       |
| GUID збуту, на який виставлено рахунок              | Збут, на який виставлено рахунок                  | msdyn_actual       | GUID фактичного збуту, на який не виставлено рахунок   | Збут, на який не виставлено рахунок               | msdyn_actual       |                    |
| Корекція чернетки рахунка       | GUID транзакції позиції рахунка | Заміна          | msdyn_invoicelinetransaction | GUID збуту, на який виставлено рахунок            | Вихідний           | msdyn_actual       |
| Підтвердити корекцію рахунка     | GUID повернення збуту, на який виставлено рахунок    | Повернення          | msdyn_actual                 | GUID збуту, на який виставлено рахунок            | Вихідний           | msdyn_actual       |
| Новий GUID для фактичного збуту з невиставленим рахунком | Заміна                     | msdyn_actual       | GUID збуту, на який виставлено рахунок            | Вихідний                     | msdyn_actual       |                    |


[!INCLUDE[footer-include](../includes/footer-banner.md)]
