---
title: Зауваження щодо оновлення Microsoft Dynamics 365 Project Service Automation версії 2.x або 1.x до версії 3
description: У цій статті наведено моменти, які потрібно враховувати під час оновлення з Project Service Automation версії 2.x або 1.x до версії 3.
manager: kfend
ms.service: project-operations
ms.custom:
- dyn365-projectservice
ms.date: 11/13/2018
ms.topic: article
author: JohnPBurrows
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: 3c51726f71cfd0d4be98982d6a02268d64a70b91
ms.sourcegitcommit: 4cf1dc1561b92fca4175f0b3813133c5e63ce8e6
ms.translationtype: HT
ms.contentlocale: uk-UA
ms.lasthandoff: 10/28/2020
ms.locfileid: "4121738"
---
# <a name="upgrade-considerations---psa-version-2x-or-1x-to-version-3"></a><span data-ttu-id="3ab14-103">Зауваження щодо оновлення з PSA версії 2.x або 1.x до версії 3</span><span class="sxs-lookup"><span data-stu-id="3ab14-103">Upgrade considerations - PSA version 2.x or 1.x to version 3</span></span>
[!INCLUDE[cc-applies-to-psa-app-1x-2x](../includes/cc-applies-to-psa-app-1x-2x.md)]

## <a name="project-service-automation-and-field-service"></a><span data-ttu-id="3ab14-104">Project Service Automation і Field Service</span><span class="sxs-lookup"><span data-stu-id="3ab14-104">Project Service Automation and Field Service</span></span>
<span data-ttu-id="3ab14-105">Планування ресурсів у Dynamics 365 Project Service Automation і Dynamics 365 Field Service здійснюється з використанням рішення URS (Universal Resourcing Scheduling).</span><span class="sxs-lookup"><span data-stu-id="3ab14-105">Both Dynamics 365 Project Service Automation and Dynamics 365 Field Service use the Universal Resourcing Scheduling (URS) solution for resource scheduling.</span></span> <span data-ttu-id="3ab14-106">Якщо до вашої інсталяції входять Project Service Automation і Field Service, радимо оновити обидва рішення до останньої версії (Project Service Automation 3.x і Field Service 8.x).</span><span class="sxs-lookup"><span data-stu-id="3ab14-106">If you have both Project Service Automation and Field Service in your instance, you should plan on upgrading both solutions to the latest version (version 3.x for Project Service Automation, version 8.x for Field Service).</span></span> <span data-ttu-id="3ab14-107">Під час оновлення Project Service Automation або Field Service інсталюється остання версія URS. Тому, якщо оновити лише одне з цих двох рішень в інсталяції, можуть виникнути проблеми в роботі з ними.</span><span class="sxs-lookup"><span data-stu-id="3ab14-107">Upgrading Project Service Automation or Field Service will install the latest version of URS, which means that inconsistent behavior is possible if both Project Service Automation and Field Service solutions in the same instance aren’t upgraded to the latest version.</span></span>

## <a name="resource-assignments"></a><span data-ttu-id="3ab14-108">Призначення ресурсів</span><span class="sxs-lookup"><span data-stu-id="3ab14-108">Resource assignments</span></span>
<span data-ttu-id="3ab14-109">У Project Service Automation версії 2 й 1 призначення завдань зберігалися як дочірні завдання (так звані завдання позиції) у полі **Сутність завдання** та опосередковано пов’язувалися із сутністю **Призначення ресурсів**.</span><span class="sxs-lookup"><span data-stu-id="3ab14-109">In Project Service Automation version 2 and version 1, task assignments were stored as child tasks (also called line tasks) in the **Task entity**, and indirectly related to the **Resource Assignment** entity.</span></span> <span data-ttu-id="3ab14-110">Завдання позиції можна було переглянути в спливаючому вікні робочої структури проекту.</span><span class="sxs-lookup"><span data-stu-id="3ab14-110">The line task was visible in the assignment pop-up window on the Work Breakdown Structure (WBS).</span></span>

![Завдання позиції в поданні робочої структури проекту в Project Service Automation версії 2 й 1](media/upgrade-line-task-01.png)

<span data-ttu-id="3ab14-112">У Project Service Automation версії 3 змінено базову схему призначення завдань доступним ресурсам.</span><span class="sxs-lookup"><span data-stu-id="3ab14-112">In version 3 of Project Service Automation, the underlying schema of assigning bookable resources to tasks has changed.</span></span> <span data-ttu-id="3ab14-113">Завдання позиції було вилучено, а зв'язок між завданням у **Сутності завдання** та членом робочої групи в сутності **Призначення ресурсів** став прямим 1:1.</span><span class="sxs-lookup"><span data-stu-id="3ab14-113">The line task has been deprecated and there is a direct 1:1 relationship between the task in the **Task entity** and the team member in the **Resource Assignment** entity.</span></span> <span data-ttu-id="3ab14-114">Завдання, призначені для учасників робочої групи, тепер зберігаються безпосередньо в сутності «Призначення ресурсів».</span><span class="sxs-lookup"><span data-stu-id="3ab14-114">Tasks that are assigned to a project team member are now stored directly in the Resource Assignment entity.</span></span>  

<span data-ttu-id="3ab14-115">Ці зміни впливають на оновлення всіх наявних проектів, які мають призначення ресурсів для названих доступних ресурсів і загальних ресурсів для проектної групи.</span><span class="sxs-lookup"><span data-stu-id="3ab14-115">These changes impact the upgrade of any existing projects that have resource assignments for named bookable resources and generic resources on a project team.</span></span> <span data-ttu-id="3ab14-116">У цьому розділі наведено міркування, які необхідно враховувати для проектів під час оновлення до версії 3.</span><span class="sxs-lookup"><span data-stu-id="3ab14-116">This topic provides the considerations that you will need to take into account for your projects when you upgrade to version 3.</span></span> 

### <a name="tasks-assigned-to-named-resources"></a><span data-ttu-id="3ab14-117">Завдання призначаються названим ресурсам</span><span class="sxs-lookup"><span data-stu-id="3ab14-117">Tasks assigned to named resources</span></span>
<span data-ttu-id="3ab14-118">Використання основної сутності завдання у програмі версії 2 і версії 1 дозволяло членам робочої групи описати роль, яка не визначена для них за замовчуванням.</span><span class="sxs-lookup"><span data-stu-id="3ab14-118">Using the underlying task entity, tasks in version 2 and version 1 allowed team members to portray a role other than their default defined role.</span></span> <span data-ttu-id="3ab14-119">Наприклад, Лариса Гнатюк, якій за замовчуванням призначено роль диспетчера програми, може отримати призначення на завдання з роллю розробника.</span><span class="sxs-lookup"><span data-stu-id="3ab14-119">For example, Gracie George, who’s by default assigned the role of Program Manager, could be assigned to a task with the role of Developer.</span></span> <span data-ttu-id="3ab14-120">У версії 3 роль названого члена робочої групи є завжди роль за замовчуванням, тому будь-яке завдання, на яке призначено Ларису Гнатюк, використовує її роль за замовчуванням як диспетчера програм.</span><span class="sxs-lookup"><span data-stu-id="3ab14-120">In version 3, the role of a named team member is always the default, so any task that Gracie George is assigned to uses her default role of Program Manager.</span></span>

<span data-ttu-id="3ab14-121">Якщо ресурс призначено на завдання за межами стандартної ролі у версії 2 і версії 1, то після оновлення цьому названому ресурсу буде призначено роль за замовчуванням для всіх призначених завдань, незалежно від призначення ролей у версії 2.</span><span class="sxs-lookup"><span data-stu-id="3ab14-121">If you have assigned a resource to a task outside of their default role in version 2 and version 1, when you upgrade, the named resource will be assigned the default role for all task assignments, regardless of role assignment in version 2.</span></span> <span data-ttu-id="3ab14-122">Це призведе до відмінностей в обчислюваних прогнозах між версіями 2 або 1 та версією 3, оскільки пронози розраховуються на підставі ролі ресурсу, а не призначення на позицію завдання.</span><span class="sxs-lookup"><span data-stu-id="3ab14-122">This will result in differences in the calculated estimates from version 2 or version 1 to version 3 because estimates are calculated based on the role of the resource and not the line task assignment.</span></span> <span data-ttu-id="3ab14-123">Наприклад, у версії 2 для двох завдань було призначено Галину Шевченко.</span><span class="sxs-lookup"><span data-stu-id="3ab14-123">For example, in version 2, two tasks have been assigned to Ashley Chinn.</span></span> <span data-ttu-id="3ab14-124">Роль у завданні позиції для завдання 1 є "розробник", а для завдання 2 – менеджер програм.</span><span class="sxs-lookup"><span data-stu-id="3ab14-124">The role on the line task for task 1 is Developer and for task 2, Program Manager.</span></span> <span data-ttu-id="3ab14-125">Галина Шевченко за замовчуванням має роль менеджера програм.</span><span class="sxs-lookup"><span data-stu-id="3ab14-125">Ashley Chinn has the default role of Program Manager.</span></span>

![Кілька ролей, призначених одному ресурсу](media/upgrade-multiple-roles-02.png)

<span data-ttu-id="3ab14-127">Оскільки ролі розробника та менеджера програм відрізняються, оцінки витрат і збуту будуть такими:</span><span class="sxs-lookup"><span data-stu-id="3ab14-127">Because the roles of Developer and Program Manager differ, the cost and sales estimates are as follows:</span></span>

![Оцінки витрат для ролей ресурсу](media/upggrade-cost-estimates-03.png)

![Оцінки збуту для ролей ресурсу](media/upgrade-sales-estimates-04.png)

<span data-ttu-id="3ab14-130">Після оновлення до версії 3 завдання позицій замінюються на призначення ресурсів на завдання доступного учасника робочої групи.</span><span class="sxs-lookup"><span data-stu-id="3ab14-130">When you upgrade to version 3, line tasks are replaced with resource assignments on the task of the bookable resource team member.</span></span> <span data-ttu-id="3ab14-131">Призначення використовуватиме роль за замовчуванням для ресурсу, який можна забронювати.</span><span class="sxs-lookup"><span data-stu-id="3ab14-131">The assignment will use the default role of the bookable resource.</span></span> <span data-ttu-id="3ab14-132">У наведеній нижче графіці Галина Шевченко, яка має роль менеджера програм, є цим ресурсом.</span><span class="sxs-lookup"><span data-stu-id="3ab14-132">In the following graphic, Ashley Chinn who has a role of Program Manager, is the resource.</span></span>

![Призначення ресурсів](media/resource-assignment-v2-05.png)

<span data-ttu-id="3ab14-134">Оскільки оцінки базуються на ролі за замовчуванням для ресурсу, можуть змінитися прогнози збуту і витрат.</span><span class="sxs-lookup"><span data-stu-id="3ab14-134">Because the estimates are based on the default role for the resource, the sales and cost estimates may change.</span></span> <span data-ttu-id="3ab14-135">Зверніть увагу, що в наведеній нижче графіці більше не відображатиметься роль **Розробник**, оскільки роль тепер буде взято з відповідних ролей ресурсу за замовчуванням.</span><span class="sxs-lookup"><span data-stu-id="3ab14-135">Note that in the following graphic, you no longer see the **Developer** role as the role is now taken from the bookable resource’s default role.</span></span>

<span data-ttu-id="3ab14-136">![Прогнози витрат для ролей за замовчуванням](media/resource-assignment-cost-estimate-06.png)
![Прогнози збуту для ролей за замовчуванням](media/resource-assignment-sales-estimate-07.png)</span><span class="sxs-lookup"><span data-stu-id="3ab14-136">![Cost estimates for default roles](media/resource-assignment-cost-estimate-06.png)
![Sales estimate for default roles](media/resource-assignment-sales-estimate-07.png)</span></span>

<span data-ttu-id="3ab14-137">Після завершення оновлення можна змінити роль члена команди на якусь іншу, ніж призначена за замовчуванням.</span><span class="sxs-lookup"><span data-stu-id="3ab14-137">After upgrade is complete, you can edit a team member's role to be something other than the assigned default.</span></span> <span data-ttu-id="3ab14-138">Проте, якщо змінити роль учасників робочої групи, її буде змінено на усіх призначених завданнях, оскільки учасники робочої групи більше не можуть мати кілька призначених ролей у версії 3.</span><span class="sxs-lookup"><span data-stu-id="3ab14-138">However, if you change a team members role, it will be changed on all of their assigned tasks because team members are no longer allowed to be assigned multiple roles in version 3.</span></span>

![Оновлення ролі ресурсу](media/resource-role-assignment-08.png)

<span data-ttu-id="3ab14-140">Це також справедливо для завдань, призначених названим ресурсам, під час зміни організаційної одиниці ресурсу із стандартної на іншу організаційну одиницю.</span><span class="sxs-lookup"><span data-stu-id="3ab14-140">This is also true for line tasks that were assigned to named resources when you change the resource’s organization unit from the default to another organization unit.</span></span> <span data-ttu-id="3ab14-141">Після завершення оновлення до версії 3, призначення буде використовувати організаційну одиницю ресурсу за замовчуванням, а не один набір для завдання позиції.</span><span class="sxs-lookup"><span data-stu-id="3ab14-141">After the version 3 upgrade is complete, the assignment will use the resource’s default organization unit instead of the one set on the line task.</span></span>

### <a name="tasks-assigned-to-generic-resources"></a><span data-ttu-id="3ab14-142">Завдання, призначені для загальних ресурсів</span><span class="sxs-lookup"><span data-stu-id="3ab14-142">Tasks assigned to generic resources</span></span>
<span data-ttu-id="3ab14-143">У версії 2 і версії 1 можна задати роль та організаційну одиницю у завданні, а потім скористатися функцією **Створити робочу групу** для створення загальних ресурсів на основі атрибутів, встановлених для цього завдання.</span><span class="sxs-lookup"><span data-stu-id="3ab14-143">In version 2 and version 1, you can set the role and org unit on a task and then use the **Generate team** feature to generate generic resources based on the attributes set on the task.</span></span> <span data-ttu-id="3ab14-144">У версії 3 можна створити загальних учасників робочої групи з роллю та організаційною одиницею, а потім призначити учасників робочої групи на завдання.</span><span class="sxs-lookup"><span data-stu-id="3ab14-144">In version 3, you create the generic team members with role and org unit, and then assign the team members to tasks.</span></span>

<span data-ttu-id="3ab14-145">У версії 2 і версії 1 проекти із загальними ресурсами можуть мати два стани, або суміш обох на рівні завдань.</span><span class="sxs-lookup"><span data-stu-id="3ab14-145">In version 2 and version 1, projects with generic resources can be in two states, or a mix of both at the task level.</span></span> <span data-ttu-id="3ab14-146">Нехай, наприклад, у вас виникли два вказані нижче сценарії.</span><span class="sxs-lookup"><span data-stu-id="3ab14-146">For example, you can have the following scenarios:</span></span>

- <span data-ttu-id="3ab14-147">Є завдання з ролями та організаційними одиницями, але не було згенеровано дочірнього призначення ресурсів.</span><span class="sxs-lookup"><span data-stu-id="3ab14-147">Tasks with roles and org units set, but no affiliated resource assignment has been generated.</span></span>
- <span data-ttu-id="3ab14-148">Завдання із призначеними загальними учасниками робочої групи, призначеними через створення загального ресурсу за допомогою функції **Створити робочу групу**.</span><span class="sxs-lookup"><span data-stu-id="3ab14-148">Tasks with generic team member resource assignments that were assigned by creating generic resource using the **Generate team** feature.</span></span>

<span data-ttu-id="3ab14-149">Перш ніж почати оновлення, рекомендуємо повторно створити робочу групу для кожного проекту з завданнями, призначеними для загальних ресурсів, або який лише має згенерувати для них запуск процесу робочої групи.</span><span class="sxs-lookup"><span data-stu-id="3ab14-149">Before you begin your upgrade, we recommend that you re-generate the team for each project that has tasks assigned to generic resources or has yet to have the generate team process run on them.</span></span>

<span data-ttu-id="3ab14-150">Для завдань, призначених для загальних учасників робочої групи, які були створені за допомогою команди **Створити робочу групу**, оновлення залишить загальний ресурс у робочій групі і залишить призначення за цим загальним членом робочої групи.</span><span class="sxs-lookup"><span data-stu-id="3ab14-150">For tasks that are assigned to generic team members that were generated with **Generate Team**, the upgrade will leave the generic resource on the team and leave the assignment to that generic team member.</span></span> <span data-ttu-id="3ab14-151">Після оновлення рекомендовано створити вимогу до ресурсів для загального члена команди, але перед тим слід забронювати або надіслати запит на ресурс.</span><span class="sxs-lookup"><span data-stu-id="3ab14-151">We recommend that you generate the resource requirement for the generic team member after the upgrade but before you book or submit a resource request.</span></span> <span data-ttu-id="3ab14-152">Це призведе до збереження всіх призначень організаційних одиниць для загальних учасників робочої групи, які відрізняються від договірної організаційної одиниці проекту.</span><span class="sxs-lookup"><span data-stu-id="3ab14-152">This will preserve any org unit assignments on the generic team members that are different than the project’s contracting org unit.</span></span>

<span data-ttu-id="3ab14-153">Наприклад, у проекті Z використовується договірна одиниця Contoso US.</span><span class="sxs-lookup"><span data-stu-id="3ab14-153">For example, in the Project Z project, the contracting org unit is Contoso US.</span></span> <span data-ttu-id="3ab14-154">У проектному плані завдання з тестування на етапі впровадження були призначені ролі технічного консультанта і призначені організаційній одиниці — Contoso India.</span><span class="sxs-lookup"><span data-stu-id="3ab14-154">In the project plan, testing tasks within the Implementation phase have been assigned the role Technical Consultant and the assigned org unit is Contoso India.</span></span>

![Призначення організації фази впровадження](media/org-unit-assignment-09.png)

<span data-ttu-id="3ab14-156">Після фази впровадження завдання з інтеграції призначене ролі технічного консультанта, але організація має значення «Contoso US».</span><span class="sxs-lookup"><span data-stu-id="3ab14-156">After the implementation phase, the integration test task is assigned to the role Technical consultant, but the org is set to Contoso US.</span></span>  

![Призначення організації для завдання тестування інтеграції](media/org-unit-generate-team-10.png)

<span data-ttu-id="3ab14-158">Під час створення робочої групи для проекту два загальні учасники робочої групи створюються за допомогою різних організаційних одиниць у завданнях.</span><span class="sxs-lookup"><span data-stu-id="3ab14-158">When you generate a team for the project, two generic team members are created due to the different org units on the tasks.</span></span> <span data-ttu-id="3ab14-159">Технічний консультант 1 буде мати завдання з Contoso India, а технічному консультанту 2 призначено завдання з Contoso US.</span><span class="sxs-lookup"><span data-stu-id="3ab14-159">Technical consultant 1 will be assigned the Contoso India tasks and Technical consultant 2 will have the Contoso US tasks.</span></span>  

![Створені загальні учасники робочої групи](media/org-unit-assignments-multiple-resources-11.png)

> [!NOTE]
> <span data-ttu-id="3ab14-161">У Project Service Automation версій 2 й 1 за учасником робочої групи не закріплено організаційну одиницю, що зберігається в завданні позиції.</span><span class="sxs-lookup"><span data-stu-id="3ab14-161">In Project Service Automation version 2 and version 1, the team member does not hold the organization unit, that is maintained on the line task.</span></span>

![Завдання позиції в Project Service Automation версії 2 й 1](media/line-tasks-12.png)

<span data-ttu-id="3ab14-163">Організаційну одиницю можна переглянути в поданні прогнозів.</span><span class="sxs-lookup"><span data-stu-id="3ab14-163">You can see the organization unit on the estimates view.</span></span> 

![Прогнози організаційної одиниці](media/org-unit-estimates-view-13.png)
 
<span data-ttu-id="3ab14-165">Після завершення оновлення організаційна одиниця в завданні, яка відповідає загальному члену робочої групи, додається до загального учасника робочої групи, а завдання позиції буде видалено.</span><span class="sxs-lookup"><span data-stu-id="3ab14-165">When the upgrade is complete, the organization unit on the line task that corresponds to the generic team member is added to the generic team member and the line task is removed.</span></span> <span data-ttu-id="3ab14-166">У зв’язку з цим рекомендуємо перед оновленням створити або заново створити робочу групу для кожного проекту, який містить загальні ресурси.</span><span class="sxs-lookup"><span data-stu-id="3ab14-166">Because of this, we recommend that before you upgrade, you generate or re-generate the team on each project that contains generic resources.</span></span>

<span data-ttu-id="3ab14-167">Для завдань, призначених ролі з організаційною одиницею, яка відрізняється від організаційної одиниці договірного проекту, і де не було згенеровано робочу групу, оновлення створить загального учасника робочої групи для ролі, але використовуватиме договірну одиницю проекту для організаційної одиниці учасника робочої групи.</span><span class="sxs-lookup"><span data-stu-id="3ab14-167">For tasks that are assigned to a role with an org unit that differs from the org unit of the contracting project, and a team has not been generated, upgrade will create a generic team member for the role, but will use the contracting unit of the project for the team member's org unit.</span></span> <span data-ttu-id="3ab14-168">Повертаючись до прикладу з проектом Z, це означає, що договірна одиниця Contoso US, та завдання тестування в проектному плані на етапі впровадження були призначені ролі технічного консультанта з організаційною одиницею, призначеною для Contoso India.</span><span class="sxs-lookup"><span data-stu-id="3ab14-168">Referring back to the example with Project Z, this means that the contracting org unit Contoso US, and the project plan testing tasks within the Implementation phase have been assigned the role Technical Consultant with the org unit assigned to Contoso India.</span></span> <span data-ttu-id="3ab14-169">Завдання з інтеграційної перевірки, яке завершується після етапу впровадження, було призначено ролі технічного консультанта.</span><span class="sxs-lookup"><span data-stu-id="3ab14-169">The Integration test task that is completed after the Implementation phase has been assigned to the role Technical consultant.</span></span> <span data-ttu-id="3ab14-170">Організаційна одиниця Contoso US і робоча група не створені.</span><span class="sxs-lookup"><span data-stu-id="3ab14-170">The org unit is Contoso US and a team has not been generated.</span></span> <span data-ttu-id="3ab14-171">Оновлення створюватиме одного загального учасника робочої групи, і технічний консультант, який має призначені години усіх трьох завдань і організаційну одиницю Contoso US, і договірну організаційну одиницю проекту.</span><span class="sxs-lookup"><span data-stu-id="3ab14-171">Upgrade will create one generic team member, a Technical consultant that has the assigned hours of all three tasks, and an org unit of Contoso US, the project’s contracting org unit.</span></span>   
 
<span data-ttu-id="3ab14-172">Змінення за замовчуванням різних організаційних одиниць ресурсів у не створених членах робочої групи є тією причиною, через яку ми рекомендуємо генерувати або заново створювати робочу групу для кожного проекту, який містить загальні ресурси, перед оновленням, щоб завдання з організаційної одиниці не були втрачені.</span><span class="sxs-lookup"><span data-stu-id="3ab14-172">Changing the default of the different resourcing org units on un-generated team members is the reason we recommend that you generate or re-generate the team on each project that contains generic resources prior to the upgrade so that the org unit assignments are not lost.</span></span>

