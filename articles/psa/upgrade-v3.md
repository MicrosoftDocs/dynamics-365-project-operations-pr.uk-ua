---
title: Зауваження щодо оновлення Microsoft Dynamics 365 Project Service Automation версії 2.x або 1.x до версії 3
description: У цій статті наведено моменти, які потрібно враховувати під час оновлення з Project Service Automation версії 2.x або 1.x до версії 3.
manager: kfend
ms.prod: ''
ms.service: project-operations
ms.custom:
- dyn365-projectservice
ms.date: 11/13/2018
ms.topic: article
author: JohnPBurrows
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: c0c1e07bacb4867254a12436cf3bff58989e117f
ms.sourcegitcommit: 418fa1fe9d605b8faccc2d5dee1b04b4e753f194
ms.translationtype: HT
ms.contentlocale: uk-UA
ms.lasthandoff: 02/10/2021
ms.locfileid: "5144211"
---
# <a name="upgrade-considerations---psa-version-2x-or-1x-to-version-3"></a>Зауваження щодо оновлення з PSA версії 2.x або 1.x до версії 3

[!include [banner](../includes/psa-now-project-operations.md)]

[!INCLUDE[cc-applies-to-psa-app-1x-2x](../includes/cc-applies-to-psa-app-1x-2x.md)]

## <a name="project-service-automation-and-field-service"></a>Project Service Automation і Field Service
Планування ресурсів у Dynamics 365 Project Service Automation і Dynamics 365 Field Service здійснюється з використанням рішення URS (Universal Resourcing Scheduling). Якщо ви маєте Project Service Automation і Field Service у вашій інсталяції, оновіть обидва рішення до останньої версії. Для Project Service Automation це версія 3.x. Для Field Service це версія 8.x. Після оновлення Project Service Automation або Field Service інсталюється найновіша версія URS. Якщо рішення Project Service Automation і Field Service в тій самій інсталяції не оновлюються до останньої версії, можлива неналежна робота.

## <a name="resource-assignments"></a>Призначення ресурсів
У Project Service Automation версії 2 й 1 призначення завдань зберігалися як дочірні завдання (так звані завдання позиції) у полі **Сутність завдання** та опосередковано пов’язувалися із сутністю **Призначення ресурсів**. Завдання позиції можна було переглянути в спливаючому вікні робочої структури проекту.

![Завдання позиції в поданні робочої структури проекту в Project Service Automation версії 2 й 1](media/upgrade-line-task-01.png)

У Project Service Automation версії 3 змінено базову схему призначення завдань доступним ресурсам. Завдання позиції було вилучено, а зв'язок між завданням у **Сутності завдання** та членом робочої групи в сутності **Призначення ресурсів** став прямим 1:1. Завдання, призначені для учасників робочої групи, тепер зберігаються безпосередньо в сутності «Призначення ресурсів».  

Ці зміни впливають на оновлення всіх наявних проектів, які мають призначення ресурсів для названих доступних ресурсів і загальних ресурсів для проектної групи. У цьому розділі наведено міркування, які необхідно враховувати для проектів під час оновлення до версії 3. 

### <a name="tasks-assigned-to-named-resources"></a>Завдання призначаються названим ресурсам
Використання основної сутності завдання у програмі версії 2 і версії 1 дозволяло членам робочої групи описати роль, яка не визначена для них за замовчуванням. Наприклад, Лариса Гнатюк, якій за замовчуванням призначено роль диспетчера програми, може отримати призначення на завдання з роллю розробника. У версії 3 роль названого члена робочої групи є завжди роль за замовчуванням, тому будь-яке завдання, на яке призначено Ларису Гнатюк, використовує її роль за замовчуванням як диспетчера програм.

Якщо ресурс призначено на завдання за межами стандартної ролі у версії 2 і версії 1, то після оновлення цьому названому ресурсу буде призначено роль за замовчуванням для всіх призначених завдань, незалежно від призначення ролей у версії 2. Це призначення призведе до відмінностей в обчислюваних прогнозах між версіями 2 або 1 та версією 3, оскільки пронози розраховуються на підставі ролі ресурсу, а не призначення на позицію завдання. Наприклад, у версії 2 для двох завдань було призначено Галину Шевченко. Роль у завданні позиції для завдання 1 є "розробник", а для завдання 2 – менеджер програм. Галина Шевченко за замовчуванням має роль менеджера програм.

![Кілька ролей, призначених одному ресурсу](media/upgrade-multiple-roles-02.png)

Оскільки ролі розробника та менеджера програм відрізняються, оцінки витрат і збуту будуть такими:

![Оцінки витрат для ролей ресурсу](media/upggrade-cost-estimates-03.png)

![Оцінки збуту для ролей ресурсу](media/upgrade-sales-estimates-04.png)

Після оновлення до версії 3 завдання позицій замінюються на призначення ресурсів на завдання доступного учасника робочої групи. Призначення використовуватиме роль за замовчуванням для ресурсу, який можна забронювати. У наведеній нижче графіці Галина Шевченко, яка має роль менеджера програм, є цим ресурсом.

![Призначення ресурсів](media/resource-assignment-v2-05.png)

Оскільки оцінки базуються на ролі за замовчуванням для ресурсу, можуть змінитися прогнози збуту і витрат. У наведеній нижче графіці більше не відображатиметься роль **Розробник**, оскільки роль тепер буде взято з відповідних ролей ресурсу за замовчуванням.

![Прогнози витрат для ролей за замовчуванням](media/resource-assignment-cost-estimate-06.png)
![Прогнози збуту для ролей за замовчуванням](media/resource-assignment-sales-estimate-07.png)

Після завершення оновлення можна змінити роль члена команди на якусь іншу, ніж призначена за замовчуванням. Проте, якщо змінити роль учасників робочої групи, її буде змінено на усіх призначених завданнях, оскільки учасники робочої групи більше не можуть мати кілька призначених ролей у версії 3.

![Оновлення ролі ресурсу](media/resource-role-assignment-08.png)

Це також справедливо для завдань, призначених названим ресурсам, під час зміни організаційної одиниці ресурсу із стандартної на іншу організаційну одиницю. Після завершення оновлення до версії 3, призначення буде використовувати організаційну одиницю ресурсу за замовчуванням, а не один набір для завдання позиції.

### <a name="tasks-assigned-to-generic-resources"></a>Завдання, призначені для загальних ресурсів
У версії 2 і версії 1 можна задати роль та організаційну одиницю у завданні, а потім скористатися функцією **Створити робочу групу** для створення загальних ресурсів на основі атрибутів, встановлених для цього завдання. У версії 3 можна створити загальних учасників робочої групи з роллю та організаційною одиницею, а потім призначити учасників робочої групи на завдання.

У версії 2 і версії 1 проекти із загальними ресурсами можуть мати два стани, або суміш обох на рівні завдань. Нехай, наприклад, у вас виникли два вказані нижче сценарії.

- Є завдання з ролями та організаційними одиницями, але не було згенеровано дочірнього призначення ресурсів.
- Завдання із призначеними загальними учасниками робочої групи, призначеними через створення загального ресурсу за допомогою функції **Створити робочу групу**.

Перш ніж почати оновлення, рекомендуємо повторно створити робочу групу для кожного проекту з завданнями, призначеними для загальних ресурсів, або який лише має згенерувати для них запуск процесу робочої групи.

Для завдань, призначених для загальних учасників робочої групи, які були створені за допомогою команди **Створити робочу групу**, оновлення залишить загальний ресурс у робочій групі і залишить призначення за цим загальним членом робочої групи. Після оновлення рекомендовано створити вимогу до ресурсів для загального члена команди, але перед тим слід забронювати або надіслати запит на ресурс. Це призведе до збереження всіх призначень організаційних одиниць для загальних учасників робочої групи, які відрізняються від договірної організаційної одиниці проекту.

Наприклад, у проекті Z використовується договірна одиниця Contoso US. У проектному плані завдання з тестування на етапі впровадження були призначені ролі технічного консультанта і призначені організаційній одиниці — Contoso India.

![Призначення організації фази впровадження](media/org-unit-assignment-09.png)

Після фази впровадження завдання з інтеграції призначене ролі технічного консультанта, але організація має значення «Contoso US».  

![Призначення організації для завдання тестування інтеграції](media/org-unit-generate-team-10.png)

Під час створення робочої групи для проекту два загальні учасники робочої групи створюються за допомогою різних організаційних одиниць у завданнях. Технічний консультант 1 буде мати завдання з Contoso India, а технічному консультанту 2 призначено завдання з Contoso US.  

![Створені загальні учасники робочої групи](media/org-unit-assignments-multiple-resources-11.png)

> [!NOTE]
> У Project Service Automation версій 2 й 1 за учасником робочої групи не закріплено організаційну одиницю, що зберігається в завданні позиції.

![Завдання позиції в Project Service Automation версії 2 й 1](media/line-tasks-12.png)

Організаційну одиницю можна переглянути в поданні прогнозів. 

![Прогнози організаційної одиниці](media/org-unit-estimates-view-13.png)
 
Після завершення оновлення організаційна одиниця в завданні, яка відповідає загальному члену робочої групи, додається до загального учасника робочої групи, а завдання позиції буде видалено. У зв’язку з цим рекомендуємо перед оновленням створити або заново створити робочу групу для кожного проекту, який містить загальні ресурси.

Для завдань, призначених ролі з організаційною одиницею, яка відрізняється від організаційної одиниці договірного проекту, і де не було згенеровано робочу групу, оновлення створить загального учасника робочої групи для ролі, але використовуватиме договірну одиницю проекту для організаційної одиниці учасника робочої групи. Повертаючись до прикладу з проектом Z, контрактна договірна одиниця Contoso US, та завдання тестування в проектному плані на етапі впровадження були призначені ролі технічного консультанта з організаційною одиницею, призначеною для Contoso India. Завдання з інтеграційної перевірки, яке завершується після етапу впровадження, було призначено ролі технічного консультанта. Організаційна одиниця Contoso US і робоча група не створені. Оновлення створюватиме одного загального учасника робочої групи, і технічний консультант, який має призначені години усіх трьох завдань і організаційну одиницю Contoso US, і договірну організаційну одиницю проекту.   
 
Змінення за замовчуванням різних організаційних одиниць ресурсів у не створених членах робочої групи є тією причиною, через яку ми рекомендуємо генерувати або заново створювати робочу групу для кожного проекту, який містить загальні ресурси, перед оновленням, щоб завдання з організаційної одиниці не були втрачені.

