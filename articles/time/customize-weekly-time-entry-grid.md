---
title: Подовження записів часу
description: У цій статті наведено відомості про те, як розробники можуть продовжити контроль часу входу.
author: stsporen
ms.date: 01/27/2022
ms.topic: article
ms.reviewer: johnmichalak
ms.author: stsporen
ms.openlocfilehash: 7ed501af3fb2059ab3c3ab6f6c957fe518595d55
ms.sourcegitcommit: 6cfc50d89528df977a8f6a55c1ad39d99800d9b4
ms.translationtype: MT
ms.contentlocale: uk-UA
ms.lasthandoff: 06/03/2022
ms.locfileid: "8914795"
---
# <a name="extending-time-entries"></a>Подовження записів часу

_**Застосовується до:** Project Operations для сценаріїв на основі ресурсів і відсутності запасів, полегшене розгортання: угоди та виставлення рахунків-проформ_

Dynamics 365 Project Operations включає настроюваний елемент керування часом із можливістю розширення. Цей елемент керування має перелічені нижче функції.

- Введення часу горизонтально в межах тижня
- Підсумки за днем, рядком або тижнем
- Копіювання рядків або тижнів
- Запис часу, використовуючи ГГ:хх або ГГ.гг (автоматично перетворюється на ГГ.гг)
- Імпорт з призначень, резервувань або зустрічей

Подовження записів часу можливе в двох областях:
- [Додавання настроюваних записів часу для власного використання](#add)
- [Налаштування елемента керування щотижневим введенням часу](#customize)

## <a name="add-custom-time-entries-for-your-own-use"></a><a name="add"></a>Додавання настроюваних записів часу для власного використання

Записи часу є основною сутністю, яка використовується в різних сценаріях. У хвилі 1 за квітень 2020 року було введено базове рішення TESA. TESA вводить сутність **Параметри** та нову роль безпеки **Користувач записів часу**. Також було додано нові поля, **msdyn_start** та **msdyn_end**, які мають пряме відношення до **msdyn_duration**. Нова сутність, роль безпеки та нові поля дозволяють більш універсально підходити до роботи із часом для кількох продуктів.


### <a name="time-source-entity"></a>Сутність «Джерело часу»
| Поле | Опис | 
|-------|------------|
| Ім'я  | Ім'я запису Джерело часу, який використовується як значення вибору при створенні записів часу. |
| Джерело часу за замовчуванням [Джерело часу: isdefault] | За замовчуванням лише одне джерело часу може бути позначено як джерело часу за замовчуванням. Завдяки цьому записи можуть за замовчуванням використовувати певне джерело часу, якщо джерела не вказано. |
|Тип джерела часу [Джерело часу: sourcetype] | Тип джерела — це параметр (тип джерела запису часу), який дає змогу об'єднувати джерело часу та програму. Корпорація Microsoft резервує значення, більші за 190 000 000.|


### <a name="time-entries-and-the-time-source-entity"></a>Записи часу та сутність Джерело часу
Кожен запис часу зв'язується із записом джерела часу. Цей запис визначає, які програми повинні обробляти запис часу і як.

Записи часу завжди є одним безперервним блоком часу із пов'язаним початком, кінцем та тривалістю.

Логіка автоматично оновлюватиме запис запису часу в перелічених нижче ситуаціях.

- Якщо введено значення двох з трьох полів, вказаних нижче, значення третього обчислюється автоматично. 

    - **msdyn_start**
    - **msdyn_end**
    - **msdyn_duration**

- Поля **msdyn_start** та **msdyn_end** відомі часовому поясу.
- Записи часу, створені із зазначенням лише **msdyn_date** та **msdyn_duration**, починатимуться опівночі. Поля **msdyn_start** та **msdyn_end** оновляться відповідно.

#### <a name="time-entry-types"></a>Типи записів часу

Записи сутності Запис часу мають пов'язаний тип, який визначає поведінку в потоці надсилання для зв'язаної програми.

|Заголовок | Значення|
|-----|-----|
|На перерві   |192,355,000|
|Подорожі | 192,355,001|
|Понаднормово   | 192,354,320|
|Робота   | 192,350,000|
|Відгул    | 192,350,001|
|Відпустка   | 192,350,002|


## <a name="customize-the-weekly-time-entry-control"></a><a name="customize"></a>Налаштування елемента керування щотижневим введенням часу
Розробники можуть додавати додаткові поля підстановки та інші поля до інших сутностей, а також впроваджувати настроювані бізнес-правила для підтримки своїх бізнес-сценаріїв.

### <a name="add-custom-fields-with-lookups-to-other-entities"></a>Додавання настроюваних полів із підстановками до інших сутностей
Існує три основні кроки, щоб додати настроюване поле до сітки щотижневого запису часу.

1. Додайте настроюване поле до діалогового **вікна Швидке створення**.
2. Настройте сітку, щоб показати настроюване поле.
3. Додайте настроюване поле на сторінку **редагування** рядка або **елемента** часу відповідно.

Переконайтеся, що нове поле має необхідні перевірки на **сторінці Редагування** рядка або **Елемента часу редагування**. В рамках цього завдання заблокуйте поле на основі стану запису часу.

Під час додавання настроюваного поля до сітки **введення** часу, а потім створення записів часу безпосередньо в сітці настроюване поле для цих записів автоматично встановлюється таким чином, щоб воно відповідало рядку. 

### <a name="add-the-custom-field-to-the-quick-create-dialog-box"></a>Додавання настроюваного поля до діалогового вікна швидкого створення
Додайте настроюване поле до діалогового **вікна Швидке створення: Створення запису** часу. Тоді користувачі зможуть вводити значення під час додавання записів часу, вибравши **Створити**.

### <a name="configure-the-grid-to-show-the-custom-field"></a>Настройте сітку, щоб показати настроюване поле
Існує два способи додавання настроюваного поля до сітки щотижневого **входу** часу.

- **Настроювання подання "Мої щотижневі записи** часу" та додавання до нього настроюваного поля. Можна вказати розташування та розмір настроюваного поля в сітці, відредагувавши властивості в поданні.
- Створіть нове настроюване подання введення часу та встановіть його як подання за промовчанням. Це подання має містити **поля «Опис** » і **«Зовнішні примітки** » на додаток до стовпців, які потрібно включити до сітки. Можна вказати розташування, розмір і порядок сортування сітки за промовчанням, відредагувавши властивості в поданні. Далі змініть настроюваний елемент керування для цього подання, щоб він став елементом керування **Сітка для введення часу**. Додайте елемент керування до подання та виберіть його для **веб-вузла**, **телефону** та **планшета**. Далі налаштуйте параметри для сітки входу **в щотижневий** час. Установіть для поля Дата початку значення msdyn **date**, установіть для **поля \_ Тривалість** значення msdyn **тривалість** і встановіть для **поля \_ Стан** значення msdyn **entrystatus**.**\_** Для **поля Список** стану лише для читання встановлено **значення 192350002 (схвалено)**, **192350003 (Надіслано)** або **192350004 (запит на відкликання)**.

### <a name="add-the-custom-field-to-the-appropriate-edit-page"></a>Додавання настроюваного поля до відповідної сторінки редагування
Сторінки, які використовуються для редагування запису часу або рядків записів часу, можна знайти в розділі **Форми**. Кнопка **Редагувати запис** у сітці відкриває сторінку **Редагування запису**, а **кнопка Редагувати рядок** відкриває сторінку **редагування** рядка. Ці сторінки можна редагувати так, щоб вони містили настроювані поля.

Обидва параметри видаляють деякі нестандартні фільтри для **сутностей Project** і **Project Task**, щоб усі подання підстановки для сутностей відображалися. У полі відображаються лише відповідні подання підстановки.

Потрібно визначити відповідну сторінку для настроюваного поля. Швидше за все, якщо ви додали поле до сітки, воно повинно перейти на сторінку **редагування** рядка, яка використовується для полів, які застосовуються до всього рядка записів часу. Якщо настроюване поле має унікальне значення в рядку щодня (наприклад, якщо це настроюване поле для часу завершення), воно має перейти на сторінку **редагування** елемента Часу.

Щоб додати настроюване поле до сторінки, перетягніть **елемент Поле** у відповідне положення на сторінці та встановіть його властивості.

### <a name="add-new-option-set-values"></a>Додайте новий набір параметрів
Щоб додати значення набір параметрів до поля поза коробкою, виконайте такі дії.

1. Відкрийте сторінку редагування поля, а потім у розділі **Тип** виберіть пункт **Редагувати** поруч із набір параметрів.
2. Додайте новий параметр, який має власний підпис і колір. Якщо потрібно додати новий стан введення часу, поле поза полем має ім'я **Стан** запису.

### <a name="designate-a-new-time-entry-status-as-read-only"></a>Призначення новому запису часу стану лише для читання
Щоб вказати статус нового запису часу як «тільки для читання», додайте нове значення запису часу до властивості **Список станів лише для читання**. Обов'язково додайте номер, а не етикетку. Відредагована частина сітки входу часу тепер буде заблокована для рядків, які мають новий стан. Щоб по-різному **настроїти властивість Список** стану лише для читання для різних **подань запис** часу, додайте сітку **вводу** часу в розділі Настроювані **елементи керування** подання та налаштуйте параметри відповідно.

Далі додайте бізнес-правила, щоб заблокувати всі поля на сторінках редагування **рядків** і **елементів** часу. Щоб отримати доступ до бізнес-правил для цих сторінок, відкрийте редактор форм для кожної сторінки, а потім виберіть пункт **Правила** ведення бізнесу. Можна додати новий стан до умови в наявних бізнес-правилах або додати нове бізнес-правило для нового стану.

### <a name="add-custom-validation-rules"></a>Додавання настроюваних правил перевірки
Можна додати два типи правил перевірки для щотижневої сітки **входу в** часі:

- Правила ведення бізнесу на стороні клієнта, які працюють на сторінках
- Перевірки компонента plug-in на стороні сервера, які застосовуються до всіх оновлень записів часу

#### <a name="client-side-business-rules"></a>Правила ведення бізнесу на стороні клієнта
За допомогою бізнес-правил можна блокувати та розблоковувати поля, вводити значення за замовчуванням у полях, а також визначати перевірки, які потребують даних лише з поточного запису часу. Щоб отримати доступ до бізнес-правил для сторінки, відкрийте редактор форм, а потім виберіть пункт **Правила ведення бізнесу**. Тоді можна змінити наявні бізнес-правила або додати нове бізнес-правило.

#### <a name="server-side-plug-in-validations"></a>Перевірка компонента plug-in на стороні сервера
Слід використовувати перевірки компонента plug-in для будь-яких перевірок, які вимагають більшого контексту, ніж доступно в одному записі записів часу. Ви також повинні використовувати їх для будь-яких перевірок, які потрібно запустити для вбудованих оновлень у сітці. Щоб завершити перевірку, створіть настроюваний компонент plug-in для **сутності "Запис часу"**.

### <a name="limits"></a>Обмеження
В даний час сітка **входу** часу має обмеження розміру 500 рядків. Якщо рядків більше 500, зайві рядки не відображатимуться. Немає ніякого способу збільшити цю межу розміру.

### <a name="copying-time-entries"></a>Копіювання записи часу
Використовуйте подання **Копіювати стовпці із записами часу**, щоб визначити список полів для копіювання при введенні часу. **Дата** й **Тривалість** є обов'язковими полями, їх не слід видаляти з подання.


[!INCLUDE[footer-include](../includes/footer-banner.md)]
