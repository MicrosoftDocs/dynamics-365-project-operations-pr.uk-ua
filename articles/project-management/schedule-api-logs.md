---
title: Журнали планування проектів
description: У цій статті наведено відомості та зразки, які допоможуть вам використовувати журнали планування проектів для відстеження помилок, пов'язаних із службою планування проектів і API планування проектів.
author: ruhercul
ms.date: 11/30/2021
ms.topic: article
ms.reviewer: johnmichalak
ms.author: ruhercul
ms.openlocfilehash: c57419642e90e4def01f2cd2474c9e82dc162b86
ms.sourcegitcommit: 6cfc50d89528df977a8f6a55c1ad39d99800d9b4
ms.translationtype: MT
ms.contentlocale: uk-UA
ms.lasthandoff: 06/03/2022
ms.locfileid: "8923720"
---
# <a name="project-scheduling-logs"></a>Журнали планування проектів

_**Застосовується до:** Операції проекту для ресурсів/ не забезпечених сценаріїв на основі, розгортання Lite - угода з proforma виставлення рахунків_, _Проект для Інтернету_

Корпорація Майкрософт Dynamics 365 Project Operations використовує [програму Project для Інтернету](https://support.microsoft.com/office/what-is-project-for-the-web-c19b2421-3c9d-4037-97c6-f66b6e1d2eb5) як основний механізм планування. Замість використання стандартних Microsoft Dataverse інтерфейсів програмування веб-застосунків (API) операції Project Operations використовує нові API планування проектів для створення, оновлення та видалення завдань проекту, призначень ресурсів, залежностей завдань, сегментів проектів і членів проектних груп. Однак, під Вільний час створення, оновлення або видалення операцій програмно запустити на роботу структури розбивки (WBS) сутностей, можуть виникнути помилки. Щоб відстежувати ці помилки та історію операцій, було реалізовано два нових адміністративних журнали: **Набір операцій та** Служба планування проектів (PSS) **·**. Щоб отримати доступ до цих журналів, перейдіть до інтеграції розкладу **настройок** \> **.**

На рисунку нижче показано модель даних для журналів планування проектів.

![Модель даних для журналів планування проектів.](media/LOGDATAMODEL.jpg)

## <a name="operation-set-log"></a>Журнал набору операцій

Журнал набору операцій відстежує виконання набору операцій, який використовується для запуску однієї або багатьох операцій зі створення, оновлення або видалення в пакеті проектів, завдань проекту, призначень ресурсів, залежностей завдань, сегментів проектів або членів групи проекту. У полі Операція **в стані** відображається загальний стан набору операцій. Відомості про корисне навантаження набору операцій фіксуються у пов'язаних записах "Відомості про набір операцій".

### <a name="operation-set"></a>Набір операцій

У таблиці нижче наведено поля, пов'язані з **сутністю "Набір** операцій".

| Ім’я схеми            | Опис                                                                                                  | DisplayName            |
|-----------------------|--------------------------------------------------------------------------------------------------------------|------------------------|
| msdyn_completedon     | Дата й час завершення або невдачі набору операцій.                                                | CompletedOn            |
| msdyn_correlationid   | КореляційНе **значення** запиту.                                                                  | CorrelationId          |
| msdyn_description     | Опис набору операцій.                                                                        | Опис            |
| msdyn_executedon      | Дата й час запуску запису.                                                                       | Виконано            |
| msdyn_operationsetId  | Унікальний ідентифікатор екземплярів сутностей.                                                                   | OperationSet           |
| msdyn_Project         | Проект, пов'язаний із набором операцій.                                                            | Project                |
| msdyn_projectid       | Значення ідентифікатора **проекту** запиту.                                                                      | ProjectId (вилучено) |
| msdyn_projectName     | Незастосовно.                                                                                              | Незастосовно         |
| msdyn_PSSErrorLog     | Унікальний ідентифікатор журналу помилок служби планування проекту, пов'язаного з набором операцій. | Журнал помилок PSS          |
| msdyn_PSSErrorLogName | Незастосовно.                                                                                              | Незастосовно         |
| msdyn_status          | Стан набору операцій.                                                                             | Статус                 |
| msdyn_statusName      | Незастосовно.                                                                                              | Незастосовно         |
| msdyn_useraadid       | Azure Active Directory(Azure AD) ідентифікатор об'єкта користувача, до якого належить запит.                     | UserAADID              |

### <a name="operation-set-detail"></a>Відомості про набір операцій

У таблиці нижче наведено поля, пов'язані з сутністю "Відомості про **набір** операцій".

| Ім’я схеми                 | Опис                                                                                 | DisplayName           |
|----------------------------|---------------------------------------------------------------------------------------------|-----------------------|
| msdyn_cdspayload           | Серіалізовані Dataverse поля для запиту.                                            | CdsPayload            |
| msdyn_entityname           | Ім'я сутності для запиту.                                                     | EntityName            |
| msdyn_httpverb             | Метод запиту.                                                                         | HTTPVerb (вилучено) |
| msdyn_httpverbName         | Незастосовно.                                                                             | Незастосовно        |
| msdyn_operationset         | Унікальний ідентифікатор набору операцій, до якого належить запис.                      | OperationSet          |
| msdyn_operationsetdetailId | Унікальний ідентифікатор екземплярів сутностей.                                                  | Відомості про OperationSet   |
| msdyn_operationsetName     | Незастосовно.                                                                             | Незастосовно        |
| msdyn_operationtype        | Тип операції встановлює деталі.                                             | OperationType         |
| msdyn_operationtypeName    | Незастосовно.                                                                             | Незастосовно        |
| msdyn_psspayload           | Послідовні поля служби планування проектів для запиту.                           | PssPayload            |
| msdyn_recordid             | Ідентифікатор запису запиту.                                                       | Ідентифікатор запису             |
| msdyn_requestnumber        | Автоматично згенерований номер, який ідентифікує порядок отримання запитів. | Номер запиту        |

## <a name="project-scheduling-service-error-logs"></a>Журнали помилок служби планування проекту

Служба планування проекту реєструє помилки реєструє помилки захоплення помилок, які виникають, коли служба планування проекту намагається **зберегти** або **відкрити** операцію. Є три підтримуваних сценаріїв, де ці журнали генеруються:

- Дії, ініційовані користувачем, зазнають критичної невдачі (наприклад, призначення не можна створити через відсутність прав).
- Служба планування проекту не може програмно створювати, оновлювати, видаляти або виконувати будь-яку іншу каскадну операцію для сутності.
- Користувач відчуває помилки, коли запис не відкривається (наприклад, під Вільний час відкриття проекту або оновлення інформації члена групи).

### <a name="project-scheduling-service-log"></a>Журнал служби планування проекту

У таблиці нижче наведено поля, які входять до журналу служби планування проекту.

| Ім’я схеми          | Опис                                                                    | DisplayName    |
|---------------------|--------------------------------------------------------------------------------|----------------|
| msdyn_CallStack     | Стек викликів винятку.                                               | Стек викликів     |
| msdyn_correlationid | Ідентифікатор кореляції помилки.                                               | CorrelationId  |
| msdyn_errorcode     | Поле, яке використовується для зберігання коду помилки Dataverse або коду помилки HTTP. | Код помилки     |
| msdyn_HelpLink      | Посилання на загальнодоступну довідкову документацію.                                       | Посилання на довідку      |
| msdyn_log           | Журнал зі служби планування проектів.                                   | Журнал            |
| msdyn_project       | Проект, пов'язаний з журналом помилок.                             | Project        |
| msdyn_projectName   | Назва проекту, якщо корисне навантаження набору операцій буде збережено. | Незастосовно |
| msdyn_psserrorlogId | Унікальний ідентифікатор екземплярів сутностей.                                     | Журнал помилок PSS  |
| msdyn_SessionId     | Ідентифікатор сеансу проекту.                                                        | Ідентифікатор сеансу     |

## <a name="error-log-cleanup"></a>Очищення журналу помилок

За промовчанням журнали помилок служби планування проекту та журнал набору операцій можна очищати кожні 90 днів. Усі записи, які старші за 90 днів, буде видалено. Однак, змінивши значення **поля msdyn_StateOperationSetAge** на **сторінці Параметри** проекту, адміністратори можуть настроїти діапазон очищення таким чином, щоб він від 1 до 120 днів. Доступні кілька методів зміни цього значення:

- **Настройте сутність параметра** проекту, створивши настроювану сторінку та додавши поле "Вік набору **застарілих** операцій".
- Використовуйте клієнтський код, який використовує комплект розробки [програмного забезпечення WebApi (SDK)](/powerapps/developer/model-driven-apps/clientapi/reference/xrm-webapi/updaterecord).
- Використовуйте код SDK служби, який використовує метод перезапису оновлення **Xrm SDK**(посилання на клієнтський API) у програмах на основі моделей. Power Apps містить опис і підтримувані параметри методу **updateRecord**.

    ```C#
    Xrm.WebApi.retrieveMultipleRecords('msdyn_projectparameter').then(function (response) {
        parameter = response.entities[0];
        var staleOperationValue = prompt("All records older than (x) days will be deleted, please enter X between 1 to 90 days", 1)
        var newData = {};
        newData.msdyn_projectparameterid = parameter.msdyn_projectparameterid;
        newData.msdyn_staleoperationsetage = parseInt(staleOperationValue);
        Xrm.WebApi.updateRecord("msdyn_projectparameter", parameter.msdyn_projectparameterid, newData).then(
            function success(result) {
                console.log("Project Parameter: Stale Operation Expiry is set to: " + newData.msdyn_staleoperationsetage);
                // perform operations on record update
                Xrm.WebApi.retrieveMultipleRecords('msdyn_projectparameter')
                .then(function (response2) { console.log("Confirmed Project Parameter: Stale Operation Expiry is set to: " + response2.entities[0].msdyn_staleoperationsetage) });
            },
            function (error) {
                console.log("Failed to Update Project Ednpoint with error: " + error.message);
            // handle error conditions
            }
        );
    });
    ```
