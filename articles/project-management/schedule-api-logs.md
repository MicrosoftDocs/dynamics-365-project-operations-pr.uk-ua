---
title: Журнали планування проектів
description: У цьому розділі наведено відомості та зразки, які допоможуть вам використовувати журнали планування проектів для відстеження помилок, пов'язаних із службою планування проектів і API планування проектів.
author: ruhercul
ms.date: 11/30/2021
ms.topic: article
ms.reviewer: kfend
ms.author: ruhercul
ms.openlocfilehash: 1c5632a880fa30d1b863c326b22e3d930c9564dc
ms.sourcegitcommit: 844ec8eacd0fc10d1659b437cc5cbb4480ec9e1e
ms.translationtype: MT
ms.contentlocale: uk-UA
ms.lasthandoff: 12/01/2021
ms.locfileid: "7877522"
---
# <a name="project-scheduling-logs"></a>Журнали планування проектів

_**Застосовується до:** Операції проекту для ресурсів /не укомплектованих сценаріїв на основі, розгортання Lite - угода proforma виставлення виставлення оку- мовою, Проект для_ _Інтернету_

Корпорація Майкрософт Dynamics 365 Project Operations використовує [project для Інтернету як](https://support.microsoft.com/office/what-is-project-for-the-web-c19b2421-3c9d-4037-97c6-f66b6e1d2eb5) основний обробник планування. Замість того, щоб використовувати стандартні Microsoft Dataverse інтерфейси програмування веб-застосунків веб-застосунку (API), project operations використовує нові API планування проектів для створення, оновлення та видалення завдань проекту, призначень ресурсів, залежностей завдань, відер проектів і членів команд проектів. Однак, під Вий час створення, оновлення або видалення операцій програмно запускаються на роботу структури розбивки (WBS) сутностей, можуть виникнути помилки. Щоб відстежувати ці помилки та історію операцій, реалізовано два нових адміністративних журнали: **набір операцій і служба планування** **проектів (PSS).** Щоб отримати доступ до цих журналів, перейдіть до **налаштування** \> **планування інтеграції**.

На рисунку нижче показано модель даних для журналів планування проекту.

![Модель даних для журналів планування проектів.](media/LOGDATAMODEL.jpg)

## <a name="operation-set-log"></a>Журнал набору операцій

Журнал "Набір операцій" відстежує виконання набору операцій, який використовується для запуску одного або багатьох операцій створення, оновлення або видалення в пакеті для проектів, завдань проекту, призначень ресурсів, залежностей завдань, відер проекту або членів команди проекту. У **полі "Операція в стані"** відображається загальний стан набору операцій. Відомості про операцію встановити корисне навантаження, які знімаються в пов'язані операції Встановити докладно записів.

### <a name="operation-set"></a>Набір операцій

У наведеній нижче таблиці наведено поля, пов'язані з **сутністю "Набір** операцій".

| Ім’я схеми            | Опис                                                                                                  | DisplayName            |
|-----------------------|--------------------------------------------------------------------------------------------------------------|------------------------|
| msdyn_completedon     | Дата й час завершення або невдалого набору операцій.                                                | CompletedOn            |
| msdyn_correlationid   | **Значення значення** ідентифікатора кореляції запиту.                                                                  | CorrelationId          |
| msdyn_description     | Опис набору операцій.                                                                        | Опис            |
| msdyn_executedon      | Дата й час запуску запису.                                                                       | Виконано            |
| msdyn_operationsetId  | Унікальний ідентифікатор екземплярів сутностей.                                                                   | OperationSet           |
| msdyn_Project         | Проект, пов'язаний із набором операцій.                                                            | Project                |
| msdyn_projectid       | Значення **запиту.**                                                                      | ProjectId (вилучено) |
| msdyn_projectName     | Незастосовно.                                                                                              | Незастосовно         |
| msdyn_PSSErrorLog     | Унікальний ідентифікатор журналу помилок служби планування проекту, пов'язаного з набором операцій. | Журнал помилок PSS          |
| msdyn_PSSErrorLogName | Незастосовно.                                                                                              | Незастосовно         |
| msdyn_status          | Стан набору операцій.                                                                             | Статус                 |
| msdyn_statusName      | Незастосовно.                                                                                              | Незастосовно         |
| msdyn_useraadid       | ідентифікатор об'єкта Azure Active Directory (Azure AD) користувача, до якого належить запит.                     | UserAADID              |

### <a name="operation-set-detail"></a>Відомості про встановлення операції

У наведеній нижче таблиці наведено поля, пов'язані з **сутністю "Операція встановити** відомості".

| Ім’я схеми                 | Опис                                                                                 | DisplayName           |
|----------------------------|---------------------------------------------------------------------------------------------|-----------------------|
| msdyn_cdspayload           | Серіалізовані поля Dataverse для запиту.                                            | CdsPayload            |
| msdyn_entityname           | Ім'я сутності для запиту.                                                     | EntityName            |
| msdyn_httpverb             | Метод запиту.                                                                         | HTTPVerb (вилучено) |
| msdyn_httpverbName         | Незастосовно.                                                                             | Незастосовно        |
| msdyn_operationset         | Унікальний ідентифікатор операції, до якої належить запис.                      | OperationSet          |
| msdyn_operationsetdetailId | Унікальний ідентифікатор екземплярів сутностей.                                                  | Відомості про OperationSet   |
| msdyn_operationsetName     | Незастосовно.                                                                             | Незастосовно        |
| msdyn_operationtype        | Тип операції, що встановлює деталі.                                             | OperationType         |
| msdyn_operationtypeName    | Незастосовно.                                                                             | Незастосовно        |
| msdyn_psspayload           | Серіалізовані поля служби планування проектів для запиту.                           | PssPayload            |
| msdyn_recordid             | Ідентифікатор запису запиту.                                                       | Ідентифікатор запису             |
| msdyn_requestnumber        | Автоматично згенерований номер, який визначає порядок, в якому були отримані запити. | Номер запиту        |

## <a name="project-scheduling-service-error-logs"></a>Журнали помилок служби планування проектів

Помилка служби планування проекту реєструє помилки захоплення, які виникають, коли служба планування проекту намагається **зберегти** або відкрити **операцію**. Існує три підтримуваних сценарії, де створюються ці журнали:

- Дії, ініційовані користувачем, критично не сприйняться (наприклад, не вдалося створити призначення через відсутність прав).
- Служба планування проекту не може програмно створювати, оновлювати, видаляти або виконувати будь-яку іншу каскадну операцію для сутності.
- Користувач виникають помилки, коли запис не вдається відкрити (наприклад, під час відкриття проекту або оновлення відомостей про учасника групи).

### <a name="project-scheduling-service-log"></a>Журнал служби планування проектів

У наведеній нижче таблиці наведено поля, які входять до журналу служби планування проектів.

| Ім’я схеми          | Опис                                                                    | DisplayName    |
|---------------------|--------------------------------------------------------------------------------|----------------|
| msdyn_CallStack     | Стек викликів винятку.                                               | Стек викликів     |
| msdyn_correlationid | Ідентифікатор кореляції помилки.                                               | CorrelationId  |
| msdyn_errorcode     | Поле, яке використовується для зберігання коду помилки Dataverse або коду помилки HTTP. | Код помилки     |
| msdyn_HelpLink      | Посилання на загальнодоступну довідкову документацію.                                       | Посилання на довідку      |
| msdyn_log           | Журнал зі служби планування проекту.                                   | Журнал            |
| msdyn_project       | Проект, пов'язаний із журналом помилок.                             | Project        |
| msdyn_projectName   | Ім'я проекту, якщо корисне навантаження набору операцій буде збережено. | Незастосовно |
| msdyn_psserrorlogId | Унікальний ідентифікатор екземплярів сутностей.                                     | Журнал помилок PSS  |
| msdyn_SessionId     | Ідентифікатор сеансу проекту.                                                        | Ідентифікатор сеансу     |

## <a name="error-log-cleanup"></a>Очищення журналу помилок

За промовчанням журнали помилок служби планування проекту та журнал набору операцій можна очищати кожні 90 днів. Усі записи, які перевищують 90 днів, буде видалено. Однак, змінивши значення **поля msdyn_StateOperationSetAge** на **сторінці Параметри** проекту, адміністратори можуть настроїти діапазон очищення таким чином, щоб він від 1 до 120 днів. Доступні кілька способів зміни цього значення:

- Настроювання **сутності параметра** проекту, створивши настроювану сторінку та додавши **поле Застарілі операції Встановити** вік.
- Використовуйте клієнтський код, який використовує [набір розробки програмного забезпечення WebApi (SDK).](/powerapps/developer/model-driven-apps/clientapi/reference/xrm-webapi/updaterecord)
- Використовуйте код служби SDK, який використовує метод Xrm SDK **updateRecord** (посилання на API клієнта) у програмах на основі моделі. Power Apps містить опис і підтримувані параметри для **методу updateRecord.**

    ```C#
    Xrm.WebApi.retrieveMultipleRecords('msdyn_projectparameter').then(function (response) {
        parameter = response.entities[0];
        var staleOperationValue = prompt("All records older than (x) days will be deleted, please enter X between 1 to 90 days", 1)
        var newData = {};
        newData.msdyn_projectparameterid = parameter.msdyn_projectparameterid;
        newData.msdyn_staleoperationsetage = parseInt(staleOperationValue);
        Xrm.WebApi.updateRecord("msdyn_projectparameter", parameter.msdyn_projectparameterid, newData).then(
            function success(result) {
                console.log("Project Parameter: Stale Operation Expiry is set to: " + newData.msdyn_staleoperationsetage);
                // perform operations on record update
                Xrm.WebApi.retrieveMultipleRecords('msdyn_projectparameter')
                .then(function (response2) { console.log("Confirmed Project Parameter: Stale Operation Expiry is set to: " + response2.entities[0].msdyn_staleoperationsetage) });
            },
            function (error) {
                console.log("Failed to Update Project Ednpoint with error: " + error.message);
            // handle error conditions
            }
        );
    });
    ```
