---
title: Набори затверджень
description: У цій статті пояснюється, як працювати з наборами затвердження, запитами та підмножинами цих операцій.
author: stsporen
ms.date: 02/01/2022
ms.topic: article
ms.reviewer: johnmichalak
ms.author: stsporen
ms.openlocfilehash: ca205073edbce2b399aab3ae273d635c8af96765
ms.sourcegitcommit: b2d05f898daa552179d67fdf4c060c93a9c66bd1
ms.translationtype: MT
ms.contentlocale: uk-UA
ms.lasthandoff: 09/16/2022
ms.locfileid: "9524942"
---
# <a name="approval-sets"></a>Набори затверджень

_**Застосовується до:** Project Operations для сценаріїв на основі ресурсів і відсутності запасів, полегшене розгортання: угоди та виставлення рахунків-проформ_

Набори затверджень групують запити в менші підгрупи операцій. Це групування дає змогу проекту обробляти затвердження в певному порядку та дозволяє виконувати повторні спроби та дотримуватися послідовності. Групування запитів на затвердження разом підвищує надійність і можливість відслідковування обробки затверджень для великих обсягів затверджень.

Набори затверджень вказують на загальний стан обробки пов’язаних із ними записів. Після обробки запису затвердження за допомогою набору затверджень, запис переміщується з розділу **Надіслані** до **Затверджені** та більше не є пов’язаним з цим набором затверджень. Якщо виникає збій запису, коли він надсилається для затвердження, цей запис залишається в стані **Надіслано**, а відповідний набір затверджень позначається як набір, у якому виник збій. Набір затверджень відображає в журналі повідомлення про помилку.

## <a name="processing-approvals-and-approval-sets"></a>Затвердження обробки та набори затверджень
Затвердження, які перебувають у черзі для обробки, відображаються в поданні **Затвердження, що оброблюються**. Система обробляє всі записи кілька разів асинхронно, включно з повторними спробами затвердження, якщо попередні спроби були невдалі.

У полі **Тривалість виконання набору затверджень** відображається кількість спроб, які залишилися для обробки набору, до його позначення як такого, який завершився з помилкою.

Набори затвердження обробляються за допомогою періодичної активації на основі хмарного **потоку** з іменем **Project Service - повторюваний графік затвердження проектів**. Про це йдеться у рішенні **під** назвою **Project Operations (Операції проекту)**. 

Переконайтеся, що потік активований, виконавши наступні кроки.

1. Як адміністратор, увійдіть до [flow.microsoft.com](https://powerautomate.microsoft.com).
2. У верхньому правому куті перейдіть до середовища, яке ви використовуєте для Dynamics 365 Project Operations.
3. Виберіть **рішення**, щоб перелічити рішення, інстальовані в середовищі.
4. У списку рішень виберіть пункт **Операції з проектами**.
5. Змініть фільтр з **«Усі»** на **«Хмарні потоки**».
6. Переконайтеся, що для параметра **Служба проекту – повторюваний потік наборів** затвердження проекту – Повторюваний план призначено значення **Увімкнуто**. Якщо це не так, виберіть потік, а потім натисніть кнопку **Увімкнути**.
7. Переконайтеся, що обробка відбувається кожні п’ять хвилин, переглянувши **список Завдань** системи в **області Настройки** в середовищі операцій Dataverse проекту.

## <a name="failed-approvals-and-approval-sets"></a>Не виконані затвердження та набори затверджень
Подання **Неузгоджені затвердження** містить список усіх затверджень, що потребують втручання користувача. Відкрийте пов’язані журнали набору затверджень задля виявлення причини збою.
Якщо вибрати пункт **Повторити**, до тривалості виконання набору затверджень буде додано спробу, набір затверджень буде перенесено назад до стану **Обробка**, а також буде виконано спробу обробити записи, що залишаються.

## <a name="configure-approval-sets"></a>Налаштовуйте набори затверджень

### <a name="enable-the-approval-sets-feature"></a>Увімкніть функцію наборів затверджень
До увімкнення функції наборів затверджень переконайтеся в тому, що на цей час жодні затвердження не обробляються. Після того, як ця функція включена, її не можна відключити.

- Перейдіть на сторінку **Параметри проекту** й виберіть пункт **Керування функціями** > **Увімкнути сучасні затвердження**.

### <a name="configuring-the-asynchronous-threshold"></a>Налаштування порогового значення асинхронної обробки 
При створенні наборів затверджень, обробка переходить у фоновий режим, якщо вибрана кількість записів для затвердження перевищує вказане порогове значення. Користуйтеся полем **Асинхронної обробки** для налаштування того, коли обробка затверджень має виконуватися синхронно, а коли – асинхронно. Виберіть одне або кілька зазначених нижче значень:

  - Нуль: усі запити мають оброблятися асинхронно. 
  - Числа більше нуля: затвердження обробляються асинхронно, лише коли надіслана кількість затверджень перевищує це значення.

[!INCLUDE[footer-include](../includes/footer-banner.md)]
