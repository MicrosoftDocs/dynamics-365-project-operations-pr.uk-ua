---
title: Синхронізація стану проекту, щоб запобігати записам у закриті проекти
description: У цій статті пояснюється, як синхронізувати стан проекту, щоб запобігти запису в неактивні або закриті проекти.
author: ryansandnessMSFT
ms.date: 08/09/2022
ms.topic: article
ms.reviewer: johnmichalak
ms.author: ryansandnessMSFT
ms.openlocfilehash: 7a306da164235f36d9ed5e69196508dce6d257de
ms.sourcegitcommit: 6b6c2bfd04e3e613ed1f38355c7cd47c3a56748d
ms.translationtype: MT
ms.contentlocale: uk-UA
ms.lasthandoff: 08/24/2022
ms.locfileid: "9348124"
---
# <a name="sync-project-status-to-prevent-entry-against-closed-projects"></a>Синхронізація стану проекту, щоб запобігати записам у закриті проекти

_**Застосовується до:** Project Operations для сценаріїв на основі ресурсів і відсутності запасів_

## <a name="scenario"></a>Сценарій

Contoso активує Microsoft Dynamics 365 Project Operations для сценаріїв на основі ресурсів і без запасів. У рамках звичайної ділової діяльності проекти можуть бути завершені або переведені в режим утримання. Проект можна вимкнути, щоб не створювати витрати або рахунки.

## <a name="solution"></a>Рішення

### <a name="prerequisites"></a>вимоги

-   Має бути інстальовано Microsoft Dynamics 365 Finance 10.0.29 або пізнішої версії.
-   Зіставлення з подвійним записуванням 1.0.0.3 для проектів версії 2 (msdyn\_projects) слід інсталювати або налаштувати вручну, як описано нижче.

### <a name="create-an-updated-version-of-the-project-operations-integration-projects-v2-dual-write-map"></a>Створення оновленої версії зіставлення з подвійним записуванням проектів інтеграції V2 Project Operations

Щоб оновити зіставлення з подвійним записуванням в проектів інтеграції V2 Project Operations:

1. Перейдіть до робочої області **Керування даними** та натисніть **Подвійний запис**.
2. Виберіть плитку **Подвійне записування**.
3. у стовпці **Зіставлення таблиці** знайдіть і виберіть **Project V2 (msdyn\_projects)**, а потім виберіть «Зупинити».
4. Виберіть ім’я зіставлення, щоб відкрити його, а потім виберіть **[Немає]**.
5. У діалоговому вікні «Вибрати стовпець» виберіть **statecode \[Project Status\]** і натисніть кнопку «ОК». Щоб звузити список, введіть у полі значення фільтра **стан**.
6.  Виберіть **Додати або змінити перетворення** у стовпці **тип зіставлення**, щоб змінити перетворення.
7.  У полі **Тип перетворення** виберіть **ValueMap**.
8.  Виберіть **Додати зіставлення значень** та додайте наведені нижче значення **Ключі** та **Значення**.

   Клавіша       | Значення 
   ----------|-------
   InProcess | 0     
   завершені | 1     

![Знімок екрана, на якому зображено зіставлення з подвійним записуванням](media/projectstage-dw-mapping.png)

9. Виберіть **Зберегти**.
10. У верхній частині сторінки **Подвійне записування > Projects V2 (msdyn_projects)** виберіть **Зберегти як**.
11. В області **Додати таблицю** в полі **Видавець** виберіть **Стандартний видавець CDS**.
12. Установіть для поля **Версія** значення 1.0.0.3.
13. Введіть **Опис** і натисніть кнопку **Зберегти**.
14. У верхній частині сторінки **Подвійне записування > Projects V2 (msdyn_projects)** виберіть **Виконати**, щоб почати зіставлення, а потім виберіть **Так** в разі запиту підтвердження перед запуском. 

### <a name="close-a-newly-completed-project"></a>Закриття нещодавно завершеного проекту

Dynamics 365 Finance використовує поле **етап проекту**, щоб відрізняти проекти, які **обробляються** або **завершені**. **Завершені** проекти не можуть нести витрати, також за них неможливо виставити рахунок клієнту.

1. Відкрийте проект, який потрібно вимкнути.
2. Зі стрічки виберіть **Вимкнути**.

> [!NOTE]
> Можна вимкнути або закрити проект, оскільки обидва вони поводяться однаково в контексті Finance.

3. У Finance відкрийте сторінку **Список усіх проектів**.
4. Переконайтеся, що вимкнутий проект у списку не відображається.
5. У фільтрі **відображення проектів** над списком змініть значення **Активний** на **Усі**.
6. Тепер відобразиться вимкнутий проект.

Якщо ви намагаєтеся записати час або витрати для цього проекту Finance проект для вибору не повинен бути видимим. Якщо вручну ввести номер проекту у витрату, з’явиться повідомлення типу «Стадія проекту «Завершено» не дозволяє записування в проект». Виставлення рахунків та інші функції виставлення рахунків слід вимкнути, оскільки вони будуть в контексті закритого проекту.

