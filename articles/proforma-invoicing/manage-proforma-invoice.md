---
title: Керування попереднім рахунком на основі проекту
description: У цій темі наводиться інформація про те, як керувати попередніми рахунками на основі проекту й працювати з ними.
author: rumant
ms.date: 04/05/2021
ms.topic: article
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: cba74c14f6d039dce0650f25ee04cbe35ec8f668b774cdaaa3bbf1aab99cb44d
ms.sourcegitcommit: 7f8d1e7a16af769adb43d1877c28fdce53975db8
ms.translationtype: HT
ms.contentlocale: uk-UA
ms.lasthandoff: 08/06/2021
ms.locfileid: "6989351"
---
# <a name="manage-a-proforma-project-based-invoice"></a>Керування попереднім рахунком на основі проекту

_**Застосовується до:** Project Operations для сценаріїв на основі ресурсів і відсутності запасів_

Рахунки-фактури в Dynamics 365 Project Operations є продовженням рахунків у Dynamics 365 Sales. Однак якщо йдеться про виставлення рахунків, між Sales є Project Operations є багато відмінностей. Наприклад, на сторінці **Список рахунків** у Project Operations не можна створити новий рахунок, але це можна зробити у Sales. Ці відмінності та розширення використовуються для підтримки процедури виставлення рахунків за проектами, що відрізняються від типового рахунка за замовленням збуту.

> [!IMPORTANT]
> Через ці відмінності не використовуйте рахунки в Sales і Project Operations так, щоб вони замінювали один одного.

## <a name="invoice-header"></a>Заголовок рахунка-фактури

У заголовку рахунка-фактури в Project Operations є наведена далі інформація.

| Поле | Розташування | Опис |
| --- | --- | --- | 
| **Ідентифікатор рахунка** | Вкладка **Зведення** | Ідентифікатор, який створюється автоматично при створенні рахунка-фактури. Поле лише для читання, яке заблоковане для редагування. Це поле використовується як посилання для кожного рахунка-фактури. |
| **Ім’я** | Вкладка **Зведення** | За замовчуванням у ньому встановлюється ім'я сервісного договору проекту. Це поле можна редагувати. | 
| **Грошова одиниця** | Вкладка **Зведення** | За замовчуванням у ньому встановлюється валюта сервісного договору проекту. Поле лише для читання, яке заблоковане для редагування. |
| **Прайс** | Вкладка **Зведення** | За замовчуванням у ньому встановлюється прайс сервісного договору проекту. Поле лише для читання, яке заблоковане для редагування. | 
| **Потенційна угода** | Вкладка **Зведення** | Посилання на пов'язану потенційну угоду. Поле лише для читання, яке заблоковане для редагування. | 
| **Сервісний договір** | Вкладка **Зведення** | Посилання на пов’язаний сервісний договір проекту. Поле лише для читання, яке заблоковане для редагування. | 
| **Клієнт** | Вкладка **Зведення** | Посилання на пов’язаний сервісний договір проекту. Поле лише для читання, яке заблоковане для редагування. |
| **Опис** | Вкладка **Зведення** | Текстове поле, в якому описується рахунок-фактура. Це поле можна редагувати. | 
| **Для надсилання рахунків** і пов’язані поля | **Вкладка зведення** | Значення за замовчуванням задаються з урахуванням клієнта за проектним сервісним договором. Це поле можна редагувати.  | 
| **Статус** | Вкладка **Зведення** | Задає наведені далі параметри: **Активний**, **Закритий**, **Оплачений** і **Скасований**, а також підлягає редагуванню. У Project Operations є стани, що не підтримуються. Вони є такими: **Закрито** та **Скасовано**. </br> При створенні рахунка задається стан **Активний**. </br>Лише після підтвердження рахунка стан слід задавати як **Оплачений**.  | 
| **Стан рахунка в проекті** | Вкладка **Зведення** | Задає такі параметри: **Чернетка**, **На розгляді** та **Підтверджено**, а також підлягає редагуванню. Рахунок можна редагувати як у стані **Чернетка**, так і в стані **На розгляді**. Після підтвердження рахунок-фактуру не можна редагувати. | 
| **Вартість складових** | Вкладка **Зведення** | Сума грошей в усіх рядках рахунків після авансових платежів і вирахувань. Поле лише для читання, яке заблоковане для редагування.  Це поле використовується для обчислення остаточної суми. | 
| **Знижка (%)** | Вкладка **Зведення** | Це поле можна редагувати, щоб ввести відсоток знижки. Це поле Project Operations функціонально не підтримується. Це поле не підтримується.|  
| **Сума знижки** | Вкладка **Зведення** | Це поле можна редагувати, щоб ввести суму знижки. Це поле Project Operations функціонально не підтримується. Це поле не підтримується. |  
| **Вартість без доставки** | **Вкладка зведення** | Застосовується загальна сума рахунка після застосування знижок. Поле лише для читання, яке заблоковане для редагування. Це поле використовується для обчислення остаточної суми.  | 
| **Вартість доставки** | Вкладка **Зведення** | Це поле можна редагувати, щоб ввести суму вартості доставки. Це поле Project Operations функціонально не підтримується. Це поле не підтримується. |
| **Загальна сума податків** | Вкладка **Зведення** | Загальна сума податку за всіма рядками рахунка. Поле лише для читання, яке заблоковане для редагування. | 
| **Загальна сума** | Вкладка **Зведення** | Сума після застосування знижок і сплати податків. Цю суму клієнт має сплатити. | 

## <a name="project-based-invoice-lines"></a>Рядки рахунка на основі проектів

У Project Operations завжди є один рядок рахунка для кожної сервісної роботи за договором проекту. Рядок рахунка створюється навіть тоді, коли немає фактичних даних. У рядку рахунка-фактури є наведена далі інформація.

| Поле | Розташування | Опис | 
| --- | --- | --- |
| **Ідентифікатор рахунка** | Вкладка **Загальні** | Посилання на ідентифікатор рахунка. Поле лише для читання, яке заблоковане для редагування. Посилання на ідентифікатор рахунка можна використовувати, щоб перейти до заголовка рахунка-фактури. | 
| **Ім’я** | Вкладка **Загальні** | Ім'я рядка рахунка-фактури встановлюється за замовчуванням на основі імені сервісної роботи за договором. Це поле можна редагувати. |
| **Project** | Вкладка **Загальні** | Проект у пов’язаній сервісній роботі за договором проекту. Поле лише для читання, яке заблоковане для редагування. Посилання на проект можна використовувати для виконання переходу до проекту. | 
| **Спосіб виставлення рахунків** | Вкладка **Загальні** | Метод виставлення рахунків у пов’язаній сервісній роботі за договором проекту. Поле лише для читання, яке заблоковане для редагування. |
| **Сума сервісної роботи за договором** | Вкладка **Загальні** | Сума сервісного договору за сервісною роботою за договором у пов’язаному проекті. Поле лише для читання, яке заблоковане для редагування. | 
| **Сума, на яку виставлено рахунки до певної дати** | Вкладка **Загальні** | Сума значень усіх рядків цього рахунка. Поле лише для читання, яке заблоковане для редагування. | 
| **Сума** | Вкладка **Загальні** | Сума значень усіх оплачуваних рядків цього рахунка. Поле лише для читання, яке заблоковане для редагування. Це поле використовується для обчислення остаточної суми в заголовку рахунка. | 
| **Податок** | Вкладка **Загальні** | Сума всіх податкових нарахувань у всіх відомостях рядків цього рахунка. Поле лише для читання, яке заблоковане для редагування. Це поле використовується для обчислення остаточної суми податку в заголовку рахунка. | 
| **Загальна сума** | Вкладка **Загальні** | Поле «Разом» із усіма загальними сумами (**Суми + податок**) у всіх оплачуваних рядках цього рахунка. Поле лише для читання, яке заблоковане для редагування. Це поле використовується для обчислення остаточної суми в заголовку рахунка. |

## <a name="invoice-line-details"></a>Відомості рядка рахунка

Кожен рядок проектного рахунка включає відомості рядка рахунка. Ці відомості рядка рахунка пов’язані з фактичними даними збуту, за якими не виставлявся рахунок, і проміжними етапами, що пов’язані із сервісною роботою за договором, на яку посилається цей рядок рахунка. Усі ці транзакції позначаються як **Готово до виставлення рахунка**.

Для рядка **Рахунок за час і матеріали** відомості позиції рахунку групуються за категоріями **Оплачується**, **Не оплачується** та **Додатково** на сторінці **Позиція рахунка**. Відомості **Оплачуваного рядка рахунка** додаються до поля «Разом» рядка рахунка. Дані в полях **Додатково** та **Фактичні дані, що не підлягають оплаті** не додаються до поля «Разом» рядка рахунка.

Для позиції **Рахунок із фіксованою ціною** позиції рахунка створюються на основі проміжних етапів, які позначаються як **Готово до виставлення рахунка** у пов’язаній сервісній роботі за договором. Після створення на основі проміжного етапу відомостей рядка рахунка стан виставлення рахунка за проміжним етапом оновлюється до **Створено рахунок для клієнта**.

### <a name="edit-invoice-line-details"></a>Редагуйте відомості рядка рахунка

Наведені далі поля доступні у відомостях рядка рахунка, які підтверджуються фактичними даними збуту, за якими не виставлявся рахунок.

| Поле | Опис |
| --- | --- | 
| **Рядок рахунку** | Посилання на **Ідентифікатор рядка рахунка**. Це поле доступне лише для читання та заблоковане для редагування. Це посилання можна використовувати, щоб перейти до заголовка рахунка. | 
| **Опис** | Опис відомостей рядка рахунка. Задається за замовчуванням на основі поля **Внутрішні коментарі** у розділі **Запис часу**, а також поля **Опис** у **Записі про витрати**. Це поле можна редагувати.| 
| **Зовнішній опис** | Опис відомостей рядка рахунка. Задається за замовчуванням на основі поля **Зовнішні коментарі** у розділі **Запис часу**, а також поля **Опис** у **Записі про витрати**. Це поле можна редагувати. Цей опис можна використати, щоб визначити, що саме має бути в надрукованому рахунку, який буде надіслано клієнту. У Project Operations рахунок-фактура не має всіх необхідних функцій, щоб налаштувати настройки друку рахунка. | 
| **Дата початку** | Це поле призначено тільки для читання, й воно задається за промовчанням на основі фактичних даних джерела. |
| **Project** | Це поле призначено тільки для читання, й воно задається за промовчанням на основі фактичних даних джерела за проектом за пов’язаною сервісною роботою за договором. |  
| **Завдання** | Задається за замовчуванням на основі фактичних первинних даних. Поле лише для читання, яке заблоковане для редагування. |
| **Категорія транзакції** | Задається за замовчуванням на основі фактичних первинних даних. Поле лише для читання, яке заблоковане для редагування. | 
| **Роль** | Задається за замовчуванням на основі фактичних первинних даних. Поле лише для читання, яке заблоковане для редагування. |  
| **Планований ресурс** | Задається за замовчуванням на основі фактичних первинних даних. Поле лише для читання, яке заблоковане для редагування. | 
| **Компанія, яка надає ресурс** | Задається за замовчуванням на основі фактичних первинних даних. Поле лише для читання, яке заблоковане для редагування. | 
| **Одиниця ресурсів** | Задається за замовчуванням на основі фактичних первинних даних. Поле лише для читання, яке заблоковане для редагування. | 
| **Кількість** | Задається за замовчуванням на основі фактичних первинних даних. Поле лише для читання, яке заблоковане для редагування. |  
| **Розклад одиниці вимірювання** | У відомостях рядка рахунка щодо часу завжди задається час, і вони не підлягають редагуванню. У випадку витрат значення за замовчуванням налаштовується на основі фактичних первинних даних про витрати. Поле лише для читання, яке заблоковане для редагування. | 
| **Одиниця вимірювання** | Задається за замовчуванням на основі фактичних первинних даних. Поле лише для читання, яке заблоковане для редагування. |  
| **Ціна** | Задається за замовчуванням на основі фактичних первинних даних. Поле лише для читання, яке заблоковане для редагування. |
| **Грошова одиниця** | Задається за замовчуванням на основі фактичних первинних даних. Поле лише для читання, яке заблоковане для редагування. | 
| **Сума** | Задається за замовчуванням на основі фактичних первинних даних. Поле лише для читання, яке заблоковане для редагування. | 
| **Податок** | Задається за замовчуванням на основі фактичних первинних даних. Це поле можна редагувати.| 
| **Загальна сума** | Обчислюване поле, що розраховується як **Сума + податок**. Поле лише для читання, яке заблоковане для редагування. | 
| **Тип виставлення рахунків** | Задається за замовчуванням на основі фактичних первинних даних. Це поле можна редагувати. У результаті вибору параметра **Оплачується** до поля «Разом» рядка рахунка додається рядок. При виборі груп **Допоміжні** та **Не оплачується** цей рядок виключається з поля «Разом» рядка рахунка.| 
| **Вибрати продукт** | Задається за замовчуванням на основі фактичних первинних даних. Поле лише для читання, яке заблоковане для редагування. |
| **Продукт** | Задається за замовчуванням на основі фактичних первинних даних. Поле лише для читання, яке заблоковане для редагування. | 
| **Ім’я продукту** | Задається за замовчуванням на основі фактичних первинних даних. Поле лише для читання, яке заблоковане для редагування. |  
| **Опис доданого елемента** | Задається за замовчуванням на основі фактичних первинних даних. Поле лише для читання, яке заблоковане для редагування. |
| **Тип транзакції** | Це поле призначено тільки для читання, й воно задається за промовчанням на основі фактичних даних джерела в полі **Збут, на який виставлено рахунок**. |  
| **Клас транзакції** | Задається за замовчуванням на основі фактичних первинних даних. Поле лише для читання, яке заблоковане для редагування. | 

У відомостях позиції рахунка, яка ґрунтується проміжним етапом, доступні наведені далі поля.

| Поле | Опис |
| --- | --- | 
| **Рядок рахунку** | Посилання на **Ідентифікатор рядка рахунка**. Поле лише для читання, яке заблоковане для редагування. Це посилання можна використовувати, щоб перейти до заголовка рахунка.  | 
| **Опис** | Опис відомостей рядка рахунка. Задається за замовчуванням на основі первинних даних проміжного етапу. | 
|**Зовнішній опис** | Опис відомостей рядка рахунка, який задається за замовчуванням на основі опису вихідного проміжного етапу. Це поле можна використати, щоб визначити, що саме має бути в надрукованому рахунку, який буде надіслано клієнту. У Project Operations рахунок-фактура не має всіх необхідних функцій, щоб налаштувати настройки друку рахунка. | 
| **Дата початку** | Задається за замовчуванням на основі дати **Проміжного етапу** у вихідному проміжному етапі. Поле лише для читання, яке заблоковане для редагування. | 
| **Project** | Задається за замовчуванням на основі вихідного проміжного етапу. Поле лише для читання, яке заблоковане для редагування. |
| **Завдання** | Задається за замовчуванням на основі вихідного проміжного етапу. Поле лише для читання, яке заблоковане для редагування. | 
| **Категорія транзакції** | Поле лише для читання, яке заблоковане для редагування. |
| **Роль** | Поле лише для читання, яке заблоковане для редагування. | 
| **Планований ресурс** | Поле лише для читання, яке заблоковане для редагування. | 
| **Одиниця ресурсів** | Поле лише для читання, яке заблоковане для редагування. | 
| **Розклад одиниці вимірювання** | Поле лише для читання, яке заблоковане для редагування. | 
| **Одиниця вимірювання** | Поле лише для читання, яке заблоковане для редагування. | 
| **Ціна** | Задається за замовчуванням, залежно від суми, зазначеної у вихідному проміжному етапі Поле лише для читання, яке заблоковане для редагування. |
| **Грошова одиниця** | Задається за замовчуванням на основі вихідного проміжного етапу. Поле лише для читання, яке заблоковане для редагування. |
| **Сума** | Задається за замовчуванням, залежно від суми, зазначеної у вихідному проміжному етапі Поле лише для читання, яке заблоковане для редагування. | 
| **Податок** | Задається за замовчуванням, залежно від суми податку, зазначеної у вихідному проміжному етапі Поле лише для читання, яке заблоковане для редагування. |
| **Загальна сума** | Задається за замовчуванням, залежно від загальної суми, зазначеної у вихідному проміжному етапі Це поле можна редагувати. | 
| **Тип виставлення рахунків** | Завжди налаштовуйте значення за замовчуванням як **Оплачується**. Поле лише для читання, яке заблоковане для редагування. |
| **Тип транзакції** | Задається за замовчуванням на основі вихідного проміжного етапу. Поле лише для читання, яке заблоковане для редагування. | 
| **Клас транзакції** | Задається за замовчуванням на основі вихідного проміжного етапу. Поле лише для читання, яке заблоковане для редагування. | 

## <a name="refresh-invoice-transactions"></a>Оновлюйте транзакції з рахунками

Якщо у вас є фактичні дані, що надійшли після створення рахунка, ви можете включити ці фактичні дані до рахунка.

1. У **Поданні невиконаних завдань із виставлення рахунків** позначте дані, як **Готово до виставлення рахунка**.   
2. Відкрийте чернетку попереднього рахунка на стрічці **Справи** й виберіть **Оновити транзакції, пов’язані з позицією в рахунку**.

  Відомості позиції рахунка створюються для будь-яких фактичних даних, датованих заднім числом і позначених як **Готово для виставлення рахунка**, але не включених до рахунка.


[!INCLUDE[footer-include](../includes/footer-banner.md)]
