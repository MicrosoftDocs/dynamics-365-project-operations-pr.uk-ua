---
title: Попередні рахунки
description: У цій статті наведено відомості про proforma рахунків-фактур у операціях project.
author: rumant
ms.date: 04/05/2021
ms.topic: article
ms.prod: ''
ms.reviewer: johnmichalak
ms.author: rumant
ms.openlocfilehash: 7b56c3908cce3115d5c95a4b1b233db70fb6c149
ms.sourcegitcommit: 6cfc50d89528df977a8f6a55c1ad39d99800d9b4
ms.translationtype: MT
ms.contentlocale: uk-UA
ms.lasthandoff: 06/03/2022
ms.locfileid: "8920591"
---
# <a name="proforma-invoices"></a>Попередні рахунки

_**Застосовується до:** Project Operations для сценаріїв на основі ресурсів і відсутності запасів_

Виставлення попередніх рахунків надає керівникам проектів другий рівень затвердження, перш ніж вони почнуть створювати рахунки для клієнтів. Перший рівень затвердження завершується, коли буде затверджено проводки часу, витрат і матеріалів, які надсилають для затвердження члени робочої групи за проектом. Підтверджені попередні рахунки доступні в модулі «Бухгалтерський облік проектів» програми Project Operations. Бухгалтери проекту можуть виконувати додаткові оновлення, наприклад, додавати макети для податку з продажу, бухгалтерського обліку та рахунків.


## <a name="creating-project-invoices"></a>Створення рахунків-фактур проекту

Проектні рахунки-фактури можна створювати по одному або групою. Їх можна створити вручну або настроїти таким чином, щоб вони були згенеровані в автоматичних циклах.

### <a name="manually-create-project-invoices"></a>Створення рахунків-фактур проекту вручну 

На сторінці списку **Проектні договори** можна створити рахунки-фактури проекту окремо для кожного сервісного договору, або створити рахунки-фактури групою для кількох сервісних договорів.

За допомогою цього кроку можна створити рахунок-фактуру для певного сервісного договору проекту.

- На сторінці списку **Проектні договори** відкрийте проектний договір, а потім виберіть **Створити рахунок-фактуру**.

    Рахунок-фактура створюється для всіх транзакцій для вибраного сервісного договору, який має статус **Готової до виставлення рахунку**. Ці транзакції включають час, витрати, матеріали, проміжні етапи та інші рядки в журналі збуту, за якими не виставлявся рахунок.

Виконайте такі кроки, щоб створити рахунки групою.

1. На сторінці списку **Проектні договори** виберіть один або кілька проектних договорів, для яких потрібно створити рахунок-фактуру, а потім виберіть команду **Створити рахунки для проекту**.

    Попереджувальний сигнал інформує вас про те, що перед створенням рахунків-фактур може виникнути затримка. Цей процес також відображається.

2. Виберіть кнопку **ОК**, щоб закрити діалогове вікно.

    Рахунок-фактура створюється для всіх транзакцій у сервісній роботі за договором, які мають статус **Готово до виставлення рахунка**. Ці транзакції включають час, витрати, матеріали, проміжні етапи та інші рядки в журналі збуту, за якими не виставлявся рахунок.

3. Щоб переглянути отримані рахунки-фактури, виберіть **Sales** \> **Виставлення рахунків** \> **Рахунки-фактури**. Для кожного проектного договору відображатиметься один рахунок-фактура.

### <a name="set-up-automated-creation-of-project-invoices"></a>Настроювання автоматичного створення рахунків-фактур проекту 

Виконайте наведені нижче кроки для налаштування автоматизованого виконання виставлення рахунків.

1. Виберіть **Параметри** \> **Пакетні завдання**.
2. Створіть пакетну роботу і назвіть її **Створення рахунків Project Operations**. Ім'я пакетного завдання має містити термін «Створення рахунків».
3. У полі **Тип завдання** виберіть параметр **Немає**. За замовчуванням параметри **Щоденна частота** і **Активовано** мають значення **Так**.
4. Виберіть **Запустити робочий цикл**. У діалоговому вікні **Пошук записів** відображаються три робочі цикли.

    - ProcessRunCaller
    - ProcessRunner
    - UpdateRoleUtilization

5. Виберіть **ProcessRunCaller**, а потім натисніть **Додати**.
6. У подальшому діалоговому вікні натисніть кнопку **ОК**. Робочий цикл **Сплячий режим** супроводжується робочим циклом **Процес**.

    Також можна вибрати **ProcessRunner** у кроці 5. Потім під час вибору **ОК** робочий цикл **Процес** відстежується робочим циклом **Сплячий режим**.

Робочі цикли **ProcessRunCaller** та **ProcessRunner** створюють рахунки. **ProcessRunCaller** викликає **ProcessRunner**. **ProcessRunner** — це робочий цикл, який фактично створює рахунки-фактури. Він проходить через всі позиції сервісного договору, для яких потрібно створити рахунки-фактури, і створює рахунки для цих позицій. Для визначення сервісних робіт за договором, для яких мають бути створені рахунки-фактури, завдання буде дивитися на дату створення рахунка для сервісних робіт за договором. Якщо сервісна робота за договором, що належить до одного сервісного договору, має однакову дату виставлення рахунка-фактури, транзакції об'єднуються в один рахунок-фактуру з двома позиціями рахунка. Якщо для створення рахунків-фактур не буде транзакцій, завдання пропускає створення рахунка-фактури.

Після завершення обробки **ProcessRunner** програма викликає **ProcessRunCaller**, забезпечує час завершення і закривається. Після цього **ProcessRunCaller** запускається таймер на 24 години з указаного періоду завершення. Після завершення таймера **ProcessRunCaller** закривається.

Завдання пакетної обробки для створення рахунків-фактур — це повторюване завдання. Якщо цей пакетний процес виконується багато разів, створюється кілька інсталяцій завдання та виникають помилки. Тому процес пакетної обробки слід запускати лише один раз і перезапускати його, лише якщо він припиняє роботу.

> [!NOTE]
> Пакетне виставлення рахунків-фактур запускається лише для сервісних робіт за договором проекту, налаштованих у розкладі виставлення рахунків-фактур. Для способу виставлення рахунків за сервісну роботу за договором із фіксованою ціною мають бути налаштовані на основні етапи. Для сервісної роботи за договором в рамках проекту з методом виставлення рахунків за час та матеріали буде потрібно налаштувати розклад виставлення рахунків на основі дати. Те саме стосується сервісної роботи за договором на основі проекту.      
 
### <a name="edit-a-draft-invoice"></a>Редагування чернетки рахунка-фактури

Під час створення чернетки проектного рахунка, всі транзакції збуту, за якими не виставлявся рахунок і які створювалися під час затвердження проводок часу, витрат і використання матеріалів, включаються в цей рахунок. Якщо рахунок-фактура лишається на чернетці, виконайте зазначені нижче дії.

- Видаліть або редагуйте відомості про позицію рахунка.
- Змінюйте та настроюйте кількості та тип рахунка.

Виберіть **Підтвердити** для підтвердження рахунка-фактури. Дія підтвердження — це одностороння дія. У разі вибору **Підтвердити** система робить рахунок-фактуру лише для читання, і в кожній області рахунка-фактури буде створено фактичні дані збуту з кожної відомості про позицію рахунка. Якщо відомості про позицію рахунка посилаються на невиставлений фактичний збут, система також скасовує фактичні дані про не виставлений збут. (Будь-які відомості позиції рахунка-фактури, створені за допомогою запису часу або витрат, матимуть посилання на не виставлений фактичний збут). Система інтеграції з загальною бухгалтерською системою може використовувати цей зворотній процес для скасування перебігу виконання (WIP) з метою бухгалтерського обліку.

> [!NOTE]
> Підтверджені рахунки-фактури та пов'язані записи, такі як рядки рахунків-фактур і відомості про рядок рахунка-фактури, не можна редагувати або видаляти. 

### <a name="correct-a-confirmed-invoice"></a>Виправлення підтвердженого рахунка-фактури

Підтверджені рахунки-фактури можна редагувати (виправляти). У разі виправлення підтвердженого рахунка-фактури створюється новий проект з коригувальним рахунком. Оскільки припущення полягає в тому, що потрібно скасувати всі транзакції та кількості з первинного рахунка-фактури, цей коригувальний рахунок-фактура містить усі транзакції з оригінального рахунка-фактури, але всі величини в ньому дорівнюють 0 (нулю).

Якщо будь-які транзакції не потребують корекції, їх можна усунути з чернетки коригувальних рахунків-фактур. Якщо потрібно скасувати або повернути лише часткову кількість, поле **Кількість** можна змінити у відомостях позиції. Якщо відкрити відомості позиції рахунка-фактури, можна побачити вихідну кількість в рахунку. Потім можна змінити поточну кількість в рахунку таким чином, щоб він не був меншим або більшим, ніж кількість в оригіналі рахунку.

Під час підтвердження коригувального рахунка буде скасовано оригінальні рахунки за фактичний збут, а також створюється нові фактичні дані про виставлений у рахунку збут. Якщо кількість було зменшено, то різниця призведе до створення нових фактичних даних про невиставлений у рахунках збут. Наприклад, якщо оригінальні рахунки за збут були на вісім годин, а позиція в коригувальному рахунку має скорочену кількість до шести годин, то початкову позицію в оригінальному рахунку буде скасовано, а натомість буде створено два нові фактичні показники:

- Виставлений в рахунку фактичний обсяг збуту на шість годин.
- Невиставлений в рахунку фактичний обсяг збуту на решту з двох годин. Ця транзакція може бути виставлена в рахунок пізніше або позначена як неоплачувана, залежно від переговорів з клієнтом.


[!INCLUDE[footer-include](../includes/footer-banner.md)]
