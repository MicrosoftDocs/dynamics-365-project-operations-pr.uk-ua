---
title: Попередні рахунки
description: У цій темі наводиться інформація про попередні рахунки в Project Operations.
author: rumant
ms.date: 04/05/2021
ms.topic: article
ms.prod: ''
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 3eaf2f19506c5464c302176fc620aad5f29b4ae7
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: uk-UA
ms.lasthandoff: 05/10/2021
ms.locfileid: "6000686"
---
# <a name="proforma-invoices"></a><span data-ttu-id="68278-103">Попередні рахунки</span><span class="sxs-lookup"><span data-stu-id="68278-103">Proforma invoices</span></span>

<span data-ttu-id="68278-104">_**Застосовується до:** Project Operations для сценаріїв на основі ресурсів і відсутності запасів_</span><span class="sxs-lookup"><span data-stu-id="68278-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios_</span></span>

<span data-ttu-id="68278-105">Виставлення попередніх рахунків надає керівникам проектів другий рівень затвердження, перш ніж вони почнуть створювати рахунки для клієнтів.</span><span class="sxs-lookup"><span data-stu-id="68278-105">Proforma invoicing gives project managers a second level of approval before they create invoices for customers.</span></span> <span data-ttu-id="68278-106">Перший рівень затвердження завершується, коли буде затверджено проводки часу, витрат і матеріалів, які надсилають для затвердження члени робочої групи за проектом.</span><span class="sxs-lookup"><span data-stu-id="68278-106">The first level of approval is completed when time, expense, and material entries that project team members submit are approved.</span></span> <span data-ttu-id="68278-107">Підтверджені попередні рахунки доступні в модулі «Бухгалтерський облік проектів» програми Project Operations.</span><span class="sxs-lookup"><span data-stu-id="68278-107">Confirmed proforma invoices are available in the Project Accounting module of Project Operations.</span></span> <span data-ttu-id="68278-108">Бухгалтери проекту можуть виконувати додаткові оновлення, наприклад, додавати макети для податку з продажу, бухгалтерського обліку та рахунків.</span><span class="sxs-lookup"><span data-stu-id="68278-108">Project accountants can perform additional updates such as sales tax, accounting, and invoice layout.</span></span>


## <a name="creating-project-invoices"></a><span data-ttu-id="68278-109">Створення рахунків-фактур проекту</span><span class="sxs-lookup"><span data-stu-id="68278-109">Creating project invoices</span></span>

<span data-ttu-id="68278-110">Проектні рахунки-фактури можна створювати по одному або групою.</span><span class="sxs-lookup"><span data-stu-id="68278-110">Project invoices can be created one at a time or in bulk.</span></span> <span data-ttu-id="68278-111">Їх можна створити вручну або настроїти таким чином, щоб вони були згенеровані в автоматичних циклах.</span><span class="sxs-lookup"><span data-stu-id="68278-111">You can create them manually, or they can be configured so that they are generated in automated runs.</span></span>

### <a name="manually-create-project-invoices"></a><span data-ttu-id="68278-112">Створення рахунків-фактур проекту вручну</span><span class="sxs-lookup"><span data-stu-id="68278-112">Manually create project invoices</span></span> 

<span data-ttu-id="68278-113">На сторінці списку **Проектні договори** можна створити рахунки-фактури проекту окремо для кожного сервісного договору, або створити рахунки-фактури групою для кількох сервісних договорів.</span><span class="sxs-lookup"><span data-stu-id="68278-113">From the **Project Contracts** list page, you can create project invoices separately for each project contract, or you can create invoices in bulk for multiple project contracts.</span></span>

<span data-ttu-id="68278-114">За допомогою цього кроку можна створити рахунок-фактуру для певного сервісного договору проекту.</span><span class="sxs-lookup"><span data-stu-id="68278-114">Follow this step to create an invoice for a specific project contract.</span></span>

- <span data-ttu-id="68278-115">На сторінці списку **Проектні договори** відкрийте проектний договір, а потім виберіть **Створити рахунок-фактуру**.</span><span class="sxs-lookup"><span data-stu-id="68278-115">On the **Project Contracts** list page, open a project contract, and then select **Create Invoice**.</span></span>

    <span data-ttu-id="68278-116">Рахунок-фактура створюється для всіх транзакцій для вибраного сервісного договору, який має статус **Готової до виставлення рахунку**.</span><span class="sxs-lookup"><span data-stu-id="68278-116">An invoice is generated for all transactions for the selected project contract that have a status of **Ready to Invoice**.</span></span> <span data-ttu-id="68278-117">Ці транзакції включають час, витрати, матеріали, проміжні етапи та інші рядки в журналі збуту, за якими не виставлявся рахунок.</span><span class="sxs-lookup"><span data-stu-id="68278-117">These transactions include time, expenses, materials, milestones, and other unbilled sales journal lines.</span></span>

<span data-ttu-id="68278-118">Виконайте такі кроки, щоб створити рахунки групою.</span><span class="sxs-lookup"><span data-stu-id="68278-118">Follow these steps to create invoices in bulk.</span></span>

1. <span data-ttu-id="68278-119">На сторінці списку **Проектні договори** виберіть один або кілька проектних договорів, для яких потрібно створити рахунок-фактуру, а потім виберіть команду **Створити рахунки для проекту**.</span><span class="sxs-lookup"><span data-stu-id="68278-119">On the **Project Contracts** list page, select one or more project contracts that you must create an invoice for, and then select **Create Project Invoices**.</span></span>

    <span data-ttu-id="68278-120">Попереджувальний сигнал інформує вас про те, що перед створенням рахунків-фактур може виникнути затримка.</span><span class="sxs-lookup"><span data-stu-id="68278-120">A warning message informs you that there might be a delay before invoices are created.</span></span> <span data-ttu-id="68278-121">Цей процес також відображається.</span><span class="sxs-lookup"><span data-stu-id="68278-121">The process is also shown.</span></span>

2. <span data-ttu-id="68278-122">Виберіть кнопку **ОК**, щоб закрити діалогове вікно.</span><span class="sxs-lookup"><span data-stu-id="68278-122">Select **OK** to close the message box.</span></span>

    <span data-ttu-id="68278-123">Рахунок-фактура створюється для всіх транзакцій у сервісній роботі за договором, які мають статус **Готово до виставлення рахунка**.</span><span class="sxs-lookup"><span data-stu-id="68278-123">An invoice is generated for all transactions on a contract line that have a status of **Ready to Invoice**.</span></span> <span data-ttu-id="68278-124">Ці транзакції включають час, витрати, матеріали, проміжні етапи та інші рядки в журналі збуту, за якими не виставлявся рахунок.</span><span class="sxs-lookup"><span data-stu-id="68278-124">These transactions include time, expenses, materials, milestones, and other unbilled sales journal lines.</span></span>

3. <span data-ttu-id="68278-125">Щоб переглянути отримані рахунки-фактури, виберіть **Sales** \> **Виставлення рахунків** \> **Рахунки-фактури**.</span><span class="sxs-lookup"><span data-stu-id="68278-125">To view the invoices that are generated, go to **Sales** \> **Billing** \> **Invoices**.</span></span> <span data-ttu-id="68278-126">Для кожного проектного договору відображатиметься один рахунок-фактура.</span><span class="sxs-lookup"><span data-stu-id="68278-126">You will see one invoice for each project contract.</span></span>

### <a name="set-up-automated-creation-of-project-invoices"></a><span data-ttu-id="68278-127">Настроювання автоматичного створення рахунків-фактур проекту</span><span class="sxs-lookup"><span data-stu-id="68278-127">Set up automated creation of project invoices</span></span> 

<span data-ttu-id="68278-128">Виконайте наведені нижче кроки для налаштування автоматизованого виконання виставлення рахунків.</span><span class="sxs-lookup"><span data-stu-id="68278-128">Follow these steps to configure an automated invoice run.</span></span>

1. <span data-ttu-id="68278-129">Виберіть **Параметри** \> **Пакетні завдання**.</span><span class="sxs-lookup"><span data-stu-id="68278-129">Go to **Settings** \> **Batch jobs**.</span></span>
2. <span data-ttu-id="68278-130">Створіть пакетну роботу і назвіть її **Створення рахунків Project Operations**.</span><span class="sxs-lookup"><span data-stu-id="68278-130">Create a batch job, and name it **Project Operations Create Invoices**.</span></span> <span data-ttu-id="68278-131">Ім'я пакетного завдання має містити термін «Створення рахунків».</span><span class="sxs-lookup"><span data-stu-id="68278-131">The name of the batch job must include the term "Create Invoices."</span></span>
3. <span data-ttu-id="68278-132">У полі **Тип завдання** виберіть параметр **Немає**.</span><span class="sxs-lookup"><span data-stu-id="68278-132">In the **Job type** field, select **None**.</span></span> <span data-ttu-id="68278-133">За замовчуванням параметри **Щоденна частота** і **Активовано** мають значення **Так**.</span><span class="sxs-lookup"><span data-stu-id="68278-133">By default, the **Frequency Daily** and **Is Active** options are set to **Yes**.</span></span>
4. <span data-ttu-id="68278-134">Виберіть **Запустити робочий цикл**.</span><span class="sxs-lookup"><span data-stu-id="68278-134">Select **Run Workflow**.</span></span> <span data-ttu-id="68278-135">У діалоговому вікні **Пошук записів** відображаються три робочі цикли.</span><span class="sxs-lookup"><span data-stu-id="68278-135">In the **Look Up Record** dialog box, you will see three workflows:</span></span>

    - <span data-ttu-id="68278-136">ProcessRunCaller</span><span class="sxs-lookup"><span data-stu-id="68278-136">ProcessRunCaller</span></span>
    - <span data-ttu-id="68278-137">ProcessRunner</span><span class="sxs-lookup"><span data-stu-id="68278-137">ProcessRunner</span></span>
    - <span data-ttu-id="68278-138">UpdateRoleUtilization</span><span class="sxs-lookup"><span data-stu-id="68278-138">UpdateRoleUtilization</span></span>

5. <span data-ttu-id="68278-139">Виберіть **ProcessRunCaller**, а потім натисніть **Додати**.</span><span class="sxs-lookup"><span data-stu-id="68278-139">Select **ProcessRunCaller**, and then select **Add**.</span></span>
6. <span data-ttu-id="68278-140">У подальшому діалоговому вікні натисніть кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="68278-140">In the next dialog box, select **OK**.</span></span> <span data-ttu-id="68278-141">Робочий цикл **Сплячий режим** супроводжується робочим циклом **Процес**.</span><span class="sxs-lookup"><span data-stu-id="68278-141">A **Sleep** workflow is followed by a **Process** workflow.</span></span>

    <span data-ttu-id="68278-142">Також можна вибрати **ProcessRunner** у кроці 5.</span><span class="sxs-lookup"><span data-stu-id="68278-142">You can also select **ProcessRunner** in step 5.</span></span> <span data-ttu-id="68278-143">Потім під час вибору **ОК** робочий цикл **Процес** відстежується робочим циклом **Сплячий режим**.</span><span class="sxs-lookup"><span data-stu-id="68278-143">Then, when you select **OK**, a **Process** workflow is followed by a **Sleep** workflow.</span></span>

<span data-ttu-id="68278-144">Робочі цикли **ProcessRunCaller** та **ProcessRunner** створюють рахунки.</span><span class="sxs-lookup"><span data-stu-id="68278-144">The **ProcessRunCaller** and **ProcessRunner** workflows create invoices.</span></span> <span data-ttu-id="68278-145">**ProcessRunCaller** викликає **ProcessRunner**.</span><span class="sxs-lookup"><span data-stu-id="68278-145">**ProcessRunCaller** calls **ProcessRunner**.</span></span> <span data-ttu-id="68278-146">**ProcessRunner** — це робочий цикл, який фактично створює рахунки-фактури.</span><span class="sxs-lookup"><span data-stu-id="68278-146">**ProcessRunner** is the workflow that actually creates the invoices.</span></span> <span data-ttu-id="68278-147">Він проходить через всі позиції сервісного договору, для яких потрібно створити рахунки-фактури, і створює рахунки для цих позицій.</span><span class="sxs-lookup"><span data-stu-id="68278-147">It goes through all the contract lines that invoices must be created for, and it creates invoices for those lines.</span></span> <span data-ttu-id="68278-148">Для визначення сервісних робіт за договором, для яких мають бути створені рахунки-фактури, завдання буде дивитися на дату створення рахунка для сервісних робіт за договором.</span><span class="sxs-lookup"><span data-stu-id="68278-148">To determine the contract lines that invoices must be created for, the job looks at invoice run dates for the contract lines.</span></span> <span data-ttu-id="68278-149">Якщо сервісна робота за договором, що належить до одного сервісного договору, має однакову дату виставлення рахунка-фактури, транзакції об'єднуються в один рахунок-фактуру з двома позиціями рахунка.</span><span class="sxs-lookup"><span data-stu-id="68278-149">If contract lines that belong to one contract have the same invoice run date, the transactions are combined into one invoice that has two invoice lines.</span></span> <span data-ttu-id="68278-150">Якщо для створення рахунків-фактур не буде транзакцій, завдання пропускає створення рахунка-фактури.</span><span class="sxs-lookup"><span data-stu-id="68278-150">If there are no transactions to create invoices for, the job skips invoice creation.</span></span>

<span data-ttu-id="68278-151">Після завершення обробки **ProcessRunner** програма викликає **ProcessRunCaller**, забезпечує час завершення і закривається.</span><span class="sxs-lookup"><span data-stu-id="68278-151">After **ProcessRunner** has finished running, it calls **ProcessRunCaller**, provides the end time, and is closed.</span></span> <span data-ttu-id="68278-152">Після цього **ProcessRunCaller** запускається таймер на 24 години з указаного періоду завершення.</span><span class="sxs-lookup"><span data-stu-id="68278-152">**ProcessRunCaller** then starts a timer that runs for 24 hours from the specified end time.</span></span> <span data-ttu-id="68278-153">Після завершення таймера **ProcessRunCaller** закривається.</span><span class="sxs-lookup"><span data-stu-id="68278-153">At the end of the timer, **ProcessRunCaller** is closed.</span></span>

<span data-ttu-id="68278-154">Завдання пакетної обробки для створення рахунків-фактур — це повторюване завдання.</span><span class="sxs-lookup"><span data-stu-id="68278-154">The batch process job for creating invoices is a recurrent job.</span></span> <span data-ttu-id="68278-155">Якщо цей пакетний процес виконується багато разів, створюється кілька інсталяцій завдання та виникають помилки.</span><span class="sxs-lookup"><span data-stu-id="68278-155">If this batch process is run many times, multiple instances of the job are created and cause errors.</span></span> <span data-ttu-id="68278-156">Тому процес пакетної обробки слід запускати лише один раз і перезапускати його, лише якщо він припиняє роботу.</span><span class="sxs-lookup"><span data-stu-id="68278-156">Therefore, you should start the batch process only one time, and you should restart it only if it stops running.</span></span>

> [!NOTE]
> <span data-ttu-id="68278-157">Пакетне виставлення рахунків-фактур запускається лише для сервісних робіт за договором проекту, налаштованих у розкладі виставлення рахунків-фактур.</span><span class="sxs-lookup"><span data-stu-id="68278-157">Batch invoicing only runs for project contract lines that are configured by invoice schedules.</span></span> <span data-ttu-id="68278-158">Для способу виставлення рахунків за сервісну роботу за договором із фіксованою ціною мають бути налаштовані на основні етапи.</span><span class="sxs-lookup"><span data-stu-id="68278-158">A contract line with a fixed price billing method must have milestones configured.</span></span> <span data-ttu-id="68278-159">Для сервісної роботи за договором в рамках проекту з методом виставлення рахунків за час та матеріали буде потрібно налаштувати розклад виставлення рахунків на основі дати.</span><span class="sxs-lookup"><span data-stu-id="68278-159">A project contract line with a time and material billing method will need a date-based invoice schedule set up.</span></span> <span data-ttu-id="68278-160">Те саме стосується сервісної роботи за договором на основі проекту.</span><span class="sxs-lookup"><span data-stu-id="68278-160">The same applies to a project-based contract line.</span></span>      
 
### <a name="edit-a-draft-invoice"></a><span data-ttu-id="68278-161">Редагування чернетки рахунка-фактури</span><span class="sxs-lookup"><span data-stu-id="68278-161">Edit a draft invoice</span></span>

<span data-ttu-id="68278-162">Під час створення чернетки проектного рахунка, всі транзакції збуту, за якими не виставлявся рахунок і які створювалися під час затвердження проводок часу, витрат і використання матеріалів, включаються в цей рахунок.</span><span class="sxs-lookup"><span data-stu-id="68278-162">When you create a draft project invoice, all unbilled sales transactions that were created when the time, expense, and material usage entries were approved are pulled onto the invoice.</span></span> <span data-ttu-id="68278-163">Якщо рахунок-фактура лишається на чернетці, виконайте зазначені нижче дії.</span><span class="sxs-lookup"><span data-stu-id="68278-163">You can make the following adjustments while the invoice is still in a draft stage:</span></span>

- <span data-ttu-id="68278-164">Видаліть або редагуйте відомості про позицію рахунка.</span><span class="sxs-lookup"><span data-stu-id="68278-164">Delete or edit invoice line details.</span></span>
- <span data-ttu-id="68278-165">Змінюйте та настроюйте кількості та тип рахунка.</span><span class="sxs-lookup"><span data-stu-id="68278-165">Edit and adjust the quantity and billing type.</span></span>

<span data-ttu-id="68278-166">Виберіть **Підтвердити** для підтвердження рахунка-фактури.</span><span class="sxs-lookup"><span data-stu-id="68278-166">Select **Confirm** to confirm an invoice.</span></span> <span data-ttu-id="68278-167">Дія підтвердження — це одностороння дія.</span><span class="sxs-lookup"><span data-stu-id="68278-167">The Confirm action is a one-way action.</span></span> <span data-ttu-id="68278-168">У разі вибору **Підтвердити** система робить рахунок-фактуру лише для читання, і в кожній області рахунка-фактури буде створено фактичні дані збуту з кожної відомості про позицію рахунка.</span><span class="sxs-lookup"><span data-stu-id="68278-168">When you select **Confirm**, the system makes the invoice read-only and creates billed sales actuals from each invoice line detail for each invoice line.</span></span> <span data-ttu-id="68278-169">Якщо відомості про позицію рахунка посилаються на невиставлений фактичний збут, система також скасовує фактичні дані про не виставлений збут.</span><span class="sxs-lookup"><span data-stu-id="68278-169">If the invoice line detail references an unbilled sales actual, the system also reverses the unbilled sales actual.</span></span> <span data-ttu-id="68278-170">(Будь-які відомості позиції рахунка-фактури, створені за допомогою запису часу або витрат, матимуть посилання на не виставлений фактичний збут). Система інтеграції з загальною бухгалтерською системою може використовувати цей зворотній процес для скасування перебігу виконання (WIP) з метою бухгалтерського обліку.</span><span class="sxs-lookup"><span data-stu-id="68278-170">(Any invoice line detail that was created from a time or expense entry will reference an unbilled sales actual.) General ledger integration systems can use this reversal to reverse project work in progress (WIP) for accounting purposes.</span></span>

### <a name="correct-a-confirmed-invoice"></a><span data-ttu-id="68278-171">Виправлення підтвердженого рахунка-фактури</span><span class="sxs-lookup"><span data-stu-id="68278-171">Correct a confirmed invoice</span></span>

<span data-ttu-id="68278-172">Підтверджені рахунки-фактури можна редагувати (виправляти).</span><span class="sxs-lookup"><span data-stu-id="68278-172">Confirmed invoices can be edited (corrected).</span></span> <span data-ttu-id="68278-173">У разі виправлення підтвердженого рахунка-фактури створюється новий проект з коригувальним рахунком.</span><span class="sxs-lookup"><span data-stu-id="68278-173">When you correct a confirmed invoice, a new draft corrective invoice is created.</span></span> <span data-ttu-id="68278-174">Оскільки припущення полягає в тому, що потрібно скасувати всі транзакції та кількості з первинного рахунка-фактури, цей коригувальний рахунок-фактура містить усі транзакції з оригінального рахунка-фактури, але всі величини в ньому дорівнюють 0 (нулю).</span><span class="sxs-lookup"><span data-stu-id="68278-174">Because the assumption is that you want to reverse all the transactions and quantities from the original invoice, this corrective invoice includes all the transactions from the original invoice, and all the quantities on it are 0 (zero).</span></span>

<span data-ttu-id="68278-175">Якщо будь-які транзакції не потребують корекції, їх можна усунути з чернетки коригувальних рахунків-фактур.</span><span class="sxs-lookup"><span data-stu-id="68278-175">If any transactions don't require correction, you can remove them from the draft corrective invoice.</span></span> <span data-ttu-id="68278-176">Якщо потрібно скасувати або повернути лише часткову кількість, поле **Кількість** можна змінити у відомостях позиції.</span><span class="sxs-lookup"><span data-stu-id="68278-176">If you want to reverse or return only a partial quantity, you can edit the **Quantity** field on the line detail.</span></span> <span data-ttu-id="68278-177">Якщо відкрити відомості позиції рахунка-фактури, можна побачити вихідну кількість в рахунку.</span><span class="sxs-lookup"><span data-stu-id="68278-177">If you open the invoice line detail, you can see the original invoice quantity.</span></span> <span data-ttu-id="68278-178">Потім можна змінити поточну кількість в рахунку таким чином, щоб він не був меншим або більшим, ніж кількість в оригіналі рахунку.</span><span class="sxs-lookup"><span data-stu-id="68278-178">You can then edit the current invoice quantity so that it's less than or more than the original invoice quantity.</span></span>

<span data-ttu-id="68278-179">Під час підтвердження коригувального рахунка буде скасовано оригінальні рахунки за фактичний збут, а також створюється нові фактичні дані про виставлений у рахунку збут.</span><span class="sxs-lookup"><span data-stu-id="68278-179">When you confirm a corrective invoice, the original billed sales actual is reversed, and a new billed sales actual is created.</span></span> <span data-ttu-id="68278-180">Якщо кількість було зменшено, то різниця призведе до створення нових фактичних даних про невиставлений у рахунках збут.</span><span class="sxs-lookup"><span data-stu-id="68278-180">If the quantity was reduced, the difference will cause a new unbilled sales actual to be created too.</span></span> <span data-ttu-id="68278-181">Наприклад, якщо оригінальні рахунки за збут були на вісім годин, а позиція в коригувальному рахунку має скорочену кількість до шести годин, то початкову позицію в оригінальному рахунку буде скасовано, а натомість буде створено два нові фактичні показники:</span><span class="sxs-lookup"><span data-stu-id="68278-181">For example, if the original billed sale was for eight hours, and the corrective invoice line detail has a reduced quantity of six hours, the original billed sales line is reversed and two new actuals are created:</span></span>

- <span data-ttu-id="68278-182">Виставлений в рахунку фактичний обсяг збуту на шість годин.</span><span class="sxs-lookup"><span data-stu-id="68278-182">A billed sales actual for six hours.</span></span>
- <span data-ttu-id="68278-183">Невиставлений в рахунку фактичний обсяг збуту на решту з двох годин.</span><span class="sxs-lookup"><span data-stu-id="68278-183">An unbilled sales actual for the remaining two hours.</span></span> <span data-ttu-id="68278-184">Ця транзакція може бути виставлена в рахунок пізніше або позначена як неоплачувана, залежно від переговорів з клієнтом.</span><span class="sxs-lookup"><span data-stu-id="68278-184">This transaction can either be billed later or marked as non-chargeable, depending on the negotiations with the customer.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]
