---
title: Налаштування автоматичного створення рахунків
description: У цьому розділі наведено відомості про налаштування системи для автоматичного створення рахунків-фактур.
author: rumant
manager: Annbe
ms.date: 10/13/2020
ms.topic: article
ms.service: project-operations
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 295c3b099c9670c930fb2ba2fd208be63a77217f
ms.sourcegitcommit: 4cf1dc1561b92fca4175f0b3813133c5e63ce8e6
ms.translationtype: HT
ms.contentlocale: uk-UA
ms.lasthandoff: 10/28/2020
ms.locfileid: "4122458"
---
# <a name="configure-automatic-invoice-creation"></a>Налаштування автоматичного створення рахунків

_**Застосовується до:** Project Operations для сценаріїв на основі ресурсів і відсутності запасів_


Виконайте наведені нижче кроки, щоб налаштувати автоматичне виставлення рахунка-фактури в Dynamics 365 Project operations.

1. Виберіть **Параметри** > **Пакетні завдання**.
2. Створіть пакетну роботу і назвіть її **Створення рахунків-фактур Project Operations**. Ім'я пакетного завдання має містити слова «Створення рахунків-фактур».
3. У полі **Тип завдання** виберіть параметр **Немає**. За замовчуванням параметри **Щоденна частота** і **Активовано** мають значення **Так**.
4. Виберіть **Запустити робочий цикл**. У діалоговому вікні **Пошук записів** відображаються три робочі цикли.

    - ProcessRunCaller
    - ProcessRunner
    - UpdateRoleUtilization

5. Виберіть **ProcessRunCaller**, а потім натисніть **Додати**.
6. У подальшому діалоговому вікні натисніть кнопку **ОК**. Робочий цикл **Сплячий режим** супроводжується робочим циклом **Процес**.

  > [!NOTE]
  > Також можна вибрати **ProcessRunner** у кроці 5. Потім під час вибору **ОК** робочий цикл **Процес** відстежується робочим циклом **Сплячий режим**.

Робочі цикли **ProcessRunCaller** та **ProcessRunner** створюють рахунки. **ProcessRunCaller** викликає **ProcessRunner**. **ProcessRunner** — це робочий цикл, який фактично створює рахунки-фактури. Він проходить через всі позиції сервісного договору, для яких потрібно створити рахунки-фактури, і створює рахунки для цих позицій. Для визначення сервісних робіт за договором, для яких мають бути створені рахунки-фактури, завдання буде дивитися на дату створення рахунка для сервісних робіт за договором. Якщо сервісна робота за договором, що належить до одного сервісного договору, має однакову дату виставлення рахунка-фактури, транзакції об'єднуються в один рахунок-фактуру з двома позиціями рахунка. Якщо для створення рахунків-фактур не буде транзакцій, завдання пропускає створення рахунка-фактури.

Після завершення обробки **ProcessRunner** програма викликає **ProcessRunCaller**, забезпечує час завершення і закривається. Після цього **ProcessRunCaller** запускається таймер на 24 години з указаного періоду завершення. Після завершення таймера **ProcessRunCaller** закривається.

Завдання пакетної обробки для створення рахунків-фактур — це повторюване завдання. Якщо цей пакетний процес виконується багато разів, створюється кілька інсталяцій завдання та виникають помилки. Тому процес пакетної обробки слід запускати лише один раз і перезапускати його, лише якщо він припиняє роботу.

> [!NOTE]
> Пакетне виставлення рахунків-фактур запускається лише для сервісних робіт за договором проекту, налаштованих у розкладі виставлення рахунків-фактур. Для способу виставлення рахунків за сервісну роботу за договором із фіксованою ціною мають бути налаштовані на основні етапи. Для сервісної роботи за договором в рамках проекту з методом виставлення рахунків за час та матеріали буде потрібно налаштувати розклад виставлення рахунків на основі дати. Те саме стосується сервісної роботи за договором на основі проекту.     
