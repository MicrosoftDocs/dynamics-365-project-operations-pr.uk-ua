---
title: Проектні рахунки
description: У цій темі наводиться інформація про проектні рахунки в Project Operations.
author: rumant
ms.date: 04/06/2021
ms.topic: article
ms.prod: ''
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 1b839c3e40ddcfe1f07b0330a78c42851140d4bf
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: uk-UA
ms.lasthandoff: 05/10/2021
ms.locfileid: "6004061"
---
# <a name="proforma-project-pnvoices"></a>Проектні рахунки

_**Застосовується до:** розгортання Lite: від угоди до рахунків-проформ_

Виставлення проектних рахунків надає керівникам проектів другий рівень затвердження, перш ніж вони почнуть створювати рахунки-фактури для клієнтів. Перший рівень затвердження завершується, коли буде затверджено проводки часу, витрат і матеріалів, які надсилають для затвердження члени робочої групи за проектом.

Легке розгортання програми Dynamics 365 Project Operations не призначене для створення рахунків для клієнтів. У наведеному далі списку показано, чому не можна створювати рахунки:

- Не містить інформацію щодо оподаткування.
- Не може конвертувати інші валюти у валюту рахунку.
- Не може правильно форматувати рахунки для друку.

Натомість можна скористатися системою фінансового або бухгалтерського обліку, щоб створювати рахунки для клієнтів, у яких використовується інформація зі створених пропозицій рахунків.

## <a name="creating-project-invoices"></a>Створення рахунків-фактур проекту

Проектні рахунки-фактури можна створювати по одному або групою. Їх можна створити вручну або настроїти таким чином, щоб вони були згенеровані в автоматичних циклах.

### <a name="manually-create-project-invoices"></a>Створення рахунків-фактур проекту вручну 

На сторінці **Project Contracts** можна створювати рахунки-фактури проекту окремо для кожного сервісного договору, або створити рахунки-фактури групою для кількох сервісних договорів.

   - Щоб створити рахунок для конкретного проектного сервісного договору на сторінці **Проектні сервісні договори**, відкрийте проектний сервісний договір потім виберіть пункт **Створити рахунок**.

   Рахунок-фактура створюється для всіх транзакцій для вибраного сервісного договору, який має статус **Готової до виставлення рахунку**. Ці транзакції включають час, витрати, матеріали, проміжні етапи, сервісну роботу за договором на основі проектів та інші рядки в журналі збуту, за якими не виставлялися рахунки та які могли підтверджуватися.

Щоб створювати групові рахунки, виконайте наведене далі.

1. На сторінці списку **Проектні договори** виберіть один або кілька проектних договорів, щоб створити рахунок-фактуру, а потім виберіть команду **Створити рахунки для проекту**.
2. Попереджувальний сигнал інформує вас про те, що перед створенням рахунків-фактур може виникнути затримка. Цей процес також відображається. Виберіть кнопку **ОК**, щоб закрити діалогове вікно.

   Рахунок-фактура створюється для всіх транзакцій у сервісній роботі за договором, які мають статус **Готово до виставлення рахунка**. Ці транзакції включають час, витрати, матеріали, проміжні етапи, сервісну роботу за договором на основі проектів та інші рядки в журналі збуту, за якими не виставлялися рахунки та які могли підтверджуватися.

3. Переглядайте рахунки, які створюються способом переходу до розділу **Збут** \> **Виставлення рахунків** \> **Рахунки**. Для кожного проектного договору відображатиметься один рахунок-фактура.

### <a name="set-up-automated-creation-of-project-invoices"></a>Настроювання автоматичного створення рахунків-фактур проекту 

Виконайте наведені нижче кроки для налаштування автоматизованого виконання виставлення рахунків.

1. Виберіть **Параметри** \> **Пакетні завдання**.
2. Створіть пакетну роботу і назвіть її **Створення рахунків Project Operations**. Ім'я пакетного завдання має містити термін «Створення рахунків».
3. У полі **Тип завдання** виберіть параметр **Немає**. За замовчуванням параметри **Щоденна частота** і **Активовано** мають значення **Так**.
4. Виберіть **Запустити робочий цикл**. У діалоговому вікні **Пошук запису** ви побачите наведені далі робочі цикли:

    - ProcessRunCaller
    - Виконавець процесів
    - Оновити використання ролі

5. Виберіть **ProcessRunCaller**, а потім натисніть **Додати**.
6. У подальшому діалоговому вікні натисніть кнопку **ОК**. Робочий цикл **Сплячий режим** супроводжується робочим циклом **Процес**.

    Також можна вибрати **ProcessRunner** у кроці 5. Потім під час вибору **ОК** робочий цикл **Процес** відстежується робочим циклом **Сплячий режим**.

Робочі цикли **ProcessRunCaller** та **ProcessRunner** створюють рахунки. **ProcessRunCaller** викликає **ProcessRunner**. **ProcessRunner** – це робочий цикл, який створює рахунки. Цей робочий цикл проходить через всі позиції сервісного договору, для яких потрібно створити рахунки, й створює рахунки. Для визначення сервісних робіт за договором, для яких мають бути створені рахунки-фактури, робочий цикл буде дивитися на дату створення рахунка для сервісних робіт за договором. Якщо сервісна робота за договором, що належить до одного сервісного договору, має однакову дату виставлення рахунка-фактури, транзакції об'єднуються в один рахунок-фактуру з двома позиціями рахунка. Якщо для створення рахунків немає транзакцій, рахунки не створюються.

Після завершення обробки **ProcessRunner** програма викликає **ProcessRunCaller**, забезпечує час завершення і закривається. Після цього **ProcessRunCaller** запускається таймер на 24 години з указаного періоду завершення. Після завершення таймера **ProcessRunCaller** закривається.

Завдання пакетної обробки для створення рахунків-фактур — це повторюване завдання. Якщо цей пакетний процес виконується багато разів, створюється кілька інсталяцій завдання та можуть виникати помилки. Щоб уникнути цієї проблеми, процес пакетної обробки слід запускати лише один раз і перезапускати його, лише якщо він припиняє роботу.

> [!NOTE]
> Пакетне виставлення рахунків-фактур запускається лише для сервісних робіт за договором проекту, налаштованих у розкладі виставлення рахунків-фактур. Для способу виставлення рахунків за сервісну роботу за договором із фіксованою ціною мають бути налаштовані на основні етапи. Для сервісної роботи за договором в рамках проекту з методом виставлення рахунків за час та матеріали буде потрібно налаштувати розклад виставлення рахунків на основі дати. Те саме стосується сервісної роботи за договором на основі проекту.      
 
### <a name="edit-a-draft-invoice"></a>Редагування чернетки рахунка-фактури

Під час створення чернетки рахунка-фактури, всі не виставлені транзакції збуту, створені під час затвердження записів часу та витрат, витягуються в рахунок-фактуру. Якщо рахунок-фактура лишається на чернетці, виконайте зазначені нижче дії.

- Видаліть або редагуйте відомості про позицію рахунка.
- Змінюйте та настроюйте кількості та тип рахунка.
- Безпосередньо додавайте час, матеріали та платежі як транзакції в рахунку. Цю функцію можна використовувати, якщо лінія рахунка-фактури зіставляється з сервісною роботою за договором, яка дає змогу виконувати ці класи транзакцій.

Виберіть **Підтвердити** для підтвердження рахунка-фактури. Це неповоротна дія. Коли ви вибираєте пункт **Підтвердити**, рахунок перетворюється на документ «тільки для читання» й створює фактичні дані збуту, за якими створюються рахунки, за кожною позицією рахунка для кожного рядка рахунка. Якщо відомості про позицію рахунка посилаються на фактичні дані збуту, за якими не виставлявся рахунок, ці фактичні дані збуту, за якими не виставлявся рахунок, сторнуються. Будь-яка позиція рахунка, створена на основі проводки часу, витрат або використання матеріалів, матиме посилання на фактичні дані збуту, за якими не виставлявся рахунок. У системах інтеграції з бухгалтерською книгою може застосовуватися це сторнування, щоб сторнувати незавершену роботу за проектом (WIP) для цілей бухгалтерського обліку.

### <a name="correct-a-confirmed-invoice"></a>Виправлення підтвердженого рахунка-фактури

Підтверджені рахунки-фактури можна редагувати. У разі виправлення підтвердженого рахунка-фактури створюється новий проект з коригувальним рахунком. Оскільки припущення полягає в тому, що потрібно скасувати всі транзакції та кількості з первинного рахунка, цей коригувальний рахунок містить усі транзакції з оригінального рахунка, але всі значення кількості в ньому дорівнюють нулю.

Якщо є транзакції, що не потребують коригування, з чернетки коригувального рахунка їх можна видалити. Якщо потрібно скасувати або повернути лише часткову кількість, поле **Кількість** можна змінити у відомостях позиції. Якщо відкрити відомості позиції рахунка-фактури, можна побачити вихідну кількість в рахунку. Потім можна змінити поточну кількість в рахунку таким чином, щоб він не був меншим або більшим, ніж кількість в оригіналі рахунку.

Під час підтвердження коригувального рахунка буде скасовано оригінальні рахунки за фактичний збут, а також створюється нові фактичні дані про виставлений у рахунку збут. Якщо кількість було зменшено, у результаті цієї різниці виникнуть нові фактичні дані збуту, за якими не виставлявся рахунок і які потрібно буде створити. Наприклад, якщо оригінальні рахунки за збут були на вісім годин, а позиція в коригувальному рахунку має скорочену до шести годин кількість, початкову позицію в оригінальному рахунку буде скасовано, а натомість буде створено два нові фактичні показники:

- Виставлений в рахунку фактичний обсяг збуту на шість годин.
- Невиставлений в рахунку фактичний обсяг збуту на решту з двох годин. Рахунок за цією транзакцією може бути виставлено пізніше або транзакція може бути позначена як неоплачувана, залежно від результатів переговорів із клієнтом.



[!INCLUDE[footer-include](../../includes/footer-banner.md)]
